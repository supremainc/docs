<!doctype html><html lang=ko-KR dir=ltr class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-confidential/smartcardapi" data-has-hydrated=false><meta charset=UTF-8><meta name=generator content="Docusaurus v3.8.1"><title data-rh=true>Smartcard API | Suprema Docs</title><meta data-rh=true name=viewport content="width=device-width, initial-scale=1.0"><meta data-rh=true name=twitter:card content=summary_large_image><meta data-rh=true property=og:image content=https://supremainc.github.io/docs/img/sns_img02.jpg><meta data-rh=true name=twitter:image content=https://supremainc.github.io/docs/img/sns_img02.jpg><meta data-rh=true property=og:url content=https://supremainc.github.io/docs/confidential/smartcardapi><meta data-rh=true property=og:locale content=ko_KR><meta data-rh=true property=og:locale:alternate content=en_US><meta data-rh=true name=docusaurus_locale content=ko><meta data-rh=true name=docsearch:language content=ko><meta data-rh=true name=docusaurus_version content=current><meta data-rh=true name=docusaurus_tag content=docs-default-current><meta data-rh=true name=docsearch:version content=current><meta data-rh=true name=docsearch:docusaurus_tag content=docs-default-current><meta data-rh=true property=og:title content="Smartcard API | Suprema Docs"><meta data-rh=true name=description content="BioStar의 스마트 카드 데이터를 읽고 쓰는 함수를 제공하는 API입니다."><meta data-rh=true property=og:description content="BioStar의 스마트 카드 데이터를 읽고 쓰는 함수를 제공하는 API입니다."><link data-rh=true rel=icon href="https://kb.supremainc.com/knowledge/lib/exe/fetch.php?media=wiki:favicon.ico"><link data-rh=true rel=canonical href=https://supremainc.github.io/docs/confidential/smartcardapi><link data-rh=true rel=alternate href=https://supremainc.github.io/docs/confidential/smartcardapi hreflang=ko-KR><link data-rh=true rel=alternate href=https://supremainc.github.io/docs/en/confidential/smartcardapi hreflang=en-US><link data-rh=true rel=alternate href=https://supremainc.github.io/docs/confidential/smartcardapi hreflang=x-default><link data-rh=true rel=preconnect href=https://11LXF9EJH7-dsn.algolia.net crossorigin=anonymous><link rel=search type=application/opensearchdescription+xml title="Suprema Docs" href=/docs/opensearch.xml><link rel=preconnect href=https://www.google-analytics.com><link rel=preconnect href=https://www.googletagmanager.com><script async src="https://www.googletagmanager.com/gtag/js?id=G-98B2Y5C3H6"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-98B2Y5C3H6",{anonymize_ip:!0})</script><link rel=stylesheet href=/docs/assets/css/styles.0c76fdf0.css><script src=/docs/assets/js/runtime~main.8b94f621.js defer></script><script src=/docs/assets/js/main.6a2bc34d.js defer></script><body class=navigation-with-keyboard><svg xmlns=http://www.w3.org/2000/svg style="display: none;"><defs>
<symbol id=theme-svg-external-link viewBox="0 0 24 24"><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light",e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id=__docusaurus><link rel=preload as=image href=/docs/img/suprema-logo.svg><link rel=preload as=image href=/docs/img/suprema-logo-white.svg><link rel=preload as=image href=/docs/img/suprema-logo-bottom.svg><div role=region aria-label="본문으로 건너뛰기"><a class=skipToContent_fXgn href=#__docusaurus_skipToContent_fallback>본문으로 건너뛰기</a></div><div class="theme-announcement-bar announcementBar_mb4j" style=background-color:#FFB27D;color:#091E42 role=banner><div class="content_knG7 announcementBarContent_xLdY"><b>이 문서에는 아직 서비스 버전으로 출시되지 않은 콘텐츠가 포함되어 있습니다. 공식적으로 출시된 기능에 대한 설명서는 다음 링크에서 확인하세요.</b></div></div><nav aria-label=메인 class="theme-layout-navbar navbar navbar--fixed-top"><div class=navbar__inner><div class="theme-layout-navbar-left navbar__items"><button aria-label="사이드바 펼치거나 접기" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/docs/><div class=navbar__logo><img src=/docs/img/suprema-logo.svg alt="Suprema Docs" class="themedComponent_mlkZ themedComponent--light_NVdE" width=120px><img src=/docs/img/suprema-logo-white.svg alt="Suprema Docs" class="themedComponent_mlkZ themedComponent--dark_xIcU" width=120px></div><b class="navbar__title text--truncate">Docs</b></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href=# aria-haspopup=true aria-expanded=false role=button class=navbar__link>Platforms</a><ul class=dropdown__menu><li><a class=dropdown__link href=/docs/platform/biostar_x>BioStar X</a><li><a class=dropdown__link href=/docs/platform/biostar_air>BioStar Air</a></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href=# aria-haspopup=true aria-expanded=false role=button class=navbar__link>Devices</a><ul class=dropdown__menu><li><a class=dropdown__link href=/docs/device/biostation_3>BioStation 3</a></ul></div><a class="navbar__item navbar__link" href=/docs/how-to>How-to Articles</a><a class="navbar__item navbar__link" href=/docs/reference>Reference</a><a class="navbar__item navbar__link" href=/docs/legal/disclaimers>Legal</a><div class=navbarSearchContainer_Bca1><button type=button class="DocSearch DocSearch-Button" aria-label="검색 (Command+K)"><span class=DocSearch-Button-Container><svg width=20 height=20 class=DocSearch-Search-Icon viewBox="0 0 20 20" aria-hidden=true><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke=currentColor fill=none fill-rule=evenodd stroke-linecap=round stroke-linejoin=round /></svg><span class=DocSearch-Button-Placeholder>검색</span></span><span class=DocSearch-Button-Keys></span></button></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href=# aria-haspopup=true aria-expanded=false role=button class=navbar__link><svg viewBox="0 0 24 24" width=20 height=20 aria-hidden=true class=iconLanguage_nlXk><path fill=currentColor d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"/></svg>한국어</a><ul class=dropdown__menu><li><a href=/docs/confidential/smartcardapi target=_self rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang=ko-KR>한국어</a><li><a href=/docs/en/confidential/smartcardapi target=_self rel="noopener noreferrer" class=dropdown__link lang=en-US>English</a></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type=button disabled title="시스템 모드" aria-label="어두운 모드와 밝은 모드 전환하기 (현재 시스템 모드)"><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill=currentColor d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill=currentColor d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill=currentColor d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"/></svg></button></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class=docsWrapper_hBAB><button aria-label="맨 위로 스크롤하기" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type=button></button><div class=docRoot_UBD9><main class="docMainContainer_TBSr docMainContainerEnhanced_lQrH"><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_z5aJ"><div class=docItemContainer_c0TR><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_XdKt"><button type=button class="clean-btn tocCollapsibleButton_TO0P">목차 보기</button></div><div class="theme-doc-markdown markdown"><header><h1 class=confidential>Smartcard API</h1></header><p>BioStar의 스마트 카드 데이터를 읽고 쓰는 함수를 제공하는 API입니다.</p>
<p><strong>주요 함수</strong></p>
<ul>
<li>
<p><strong><a href="https://kb.supremainc.com/bs2sdk/doku.php?id=ko:bs2_scancard" target=_blank rel="noopener noreferrer">BS2_ScanCard</a></strong>: 장치에서 카드를 스캔하고 카드 데이터를 분석합니다.</p>
</li>
<li>
<p><strong><a href="https://kb.supremainc.com/bs2sdk/doku.php?id=ko:bs2_writecard" target=_blank rel="noopener noreferrer">BS2_WriteCard</a></strong>: SmartCard에 데이터를 저장합니다.</p>
</li>
<li>
<p><strong><a href="https://kb.supremainc.com/bs2sdk/doku.php?id=ko:bs2_erasecard" target=_blank rel="noopener noreferrer">BS2_EraseCard</a></strong>: SmartCard를 포맷합니다.</p>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=구조체-관계도>구조체 관계도<a href=#구조체-관계도 class=hash-link aria-label="구조체 관계도에 대한 직접 링크" title="구조체 관계도에 대한 직접 링크">​</a></h2>
<map id=imgmap2025813133616 name=imgmap2025813133616><area shape=rect title=BS2Card coords=22,217,190,319 href=#bs2card><area shape=rect title=BS2SmartCardData coords=271,281,539,424 href=#bs2smartcarddata><area shape=rect title=BS2SmartCardHeader coords=621,36,888,337 href=#bs2smartcardheader><area shape=rect title=BS2SmartCardCredentials coords=621,363,888,482 href=#bs2smartcardcredentials><area shape=rect title=BS2AcessOnCardData coords=621,508,888,640 href=#bs2accessoncarddata></map>
<p class=hasimg><img loading=lazy decoding=async src=/docs/img/common/smartcardapi-structure.png width=2072 height=1192 usemap=#imgmap2025813133616 class=useMap></p>
<div class="theme-admonition theme-admonition-note admonition_Gfwi alert alert--secondary"><div class=admonitionContent_UjKb><div class=admNote><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"/></svg></div><p>이미지의 구조체를 클릭하면 해당 구조체의 상세 정보로 이동합니다.</div></div>
<div class=page-break></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=구조체>구조체<a href=#구조체 class=hash-link aria-label="구조체에 대한 직접 링크" title="구조체에 대한 직접 링크">​</a></h2>
<div class=typedefContainer_Wn7J><div><div class=titleRow_juh5><h3 class="anchor anchorWithStickyNavbar_LWe7" id=bs2smartcardheader>BS2SmartCardHeader<a href=#bs2smartcardheader class=hash-link aria-label="BS2SmartCardHeader에 대한 직접 링크" title="BS2SmartCardHeader에 대한 직접 링크">​</a></h3><div class=metadata_jjxW><span class=category_KdBD>Smart Card</span><span class=size_yHpg>16<!-- --> <!-- -->bytes</span></div></div><p class=description_vl9m>SmartCard 헤더 정보를 담는 구조체입니다.</div><div class=section_UAKO><div class=sectionHeader_fRZ_><h4>구조 계층</h4></div><div class=hierarchyContainer_TJKg><div class="hierarchyLevel_eVaW nestedLeveltop_mB2_"><ul class=hierarchyItem_GODh><li class=hierarchyNode_fJgq><div class=nodeHeader_VmLc><span class=hierarchyName_Xieu id=bs2smartcardheader>BS2SmartCardHeader</span><span class=hierarchyType_cEEc>struct</span><span class=hierarchySize_iDgU>16<!-- --> <!-- -->bytes</span></div><p class=hierarchyDesc_qbou>SmartCard 헤더 구조체</li><div class=childrenContainer_yihK><div class="hierarchyLevel_eVaW nestedLevel_fvI8"><ul class=hierarchyItem_GODh><li class=hierarchyNode_fJgq><div class=nodeHeader_VmLc><span class=hierarchyName_Xieu id="체크섬 영역">체크섬 영역</span></div><p class=hierarchyDesc_qbou>체크섬 영역은 카드 데이터의 무결성을 검증하는 데 사용합니다. 자세한 내용은 <a href=#crc>다음 문서</a>를 참고하세요.</li><div class=childrenContainer_yihK><div class="hierarchyLevel_eVaW nestedLevel_fvI8"><ul class=hierarchyItem_GODh><li class=hierarchyNode_fJgq><div class=nodeHeader_VmLc><span class=hierarchyName_Xieu id=hdrcrc>hdrCRC</span><span class=hierarchyType_cEEc>uint16_t</span><span class=hierarchySize_iDgU>2<!-- --> <!-- -->bytes</span></div><p class=hierarchyDesc_qbou>카드 헤더 체크섬 값입니다. (cardCRC - reserved)</ul><ul class=hierarchyItem_GODh><li class=hierarchyNode_fJgq><div class=nodeHeader_VmLc><span class=hierarchyName_Xieu id=cardcrc>cardCRC</span><span class=hierarchyType_cEEc>uint16_t</span><span class=hierarchySize_iDgU>2<!-- --> <!-- -->bytes</span></div><p class=hierarchyDesc_qbou>카드 데이터 체크섬 값입니다. (<code>BS2SmartCardHeader.cardType</code> - <code>BS2SmartCardData.accessOnData</code>)</ul></div></div></ul><ul class=hierarchyItem_GODh><li class=hierarchyNode_fJgq><div class=nodeHeader_VmLc><span class=hierarchyName_Xieu id="카드 메타데이터">카드 메타데이터</span></div><p class=hierarchyDesc_qbou>카드 유형 및 템플릿 정보</li><div class=childrenContainer_yihK><div class="hierarchyLevel_eVaW nestedLevel_fvI8"><ul class=hierarchyItem_GODh><li class=hierarchyNode_fJgq><div class=nodeHeader_VmLc><span class=hierarchyName_Xieu id=cardtype>cardType</span><span class=hierarchyType_cEEc>BS2_CARD_TYPE</span><span class=hierarchySize_iDgU>1<!-- --> <!-- -->byte</span></div><p class=hierarchyDesc_qbou>카드 유형의 코드 값입니다.<div class=fieldConstants_jw4N><h6>가능한 값</h6><table class=constantsTable_GcDj><thead><tr><th>값<th>설명<tbody><tr><td class=constantValue_cMnk>0x02<td><p>Secure Credential Card (SCC)<tr><td class=constantValue_cMnk>0x03<td><p>Access on Card (AOC)</table></div></ul><ul class=hierarchyItem_GODh><li class=hierarchyNode_fJgq><div class=nodeHeader_VmLc><span class=hierarchyName_Xieu id=numoftemplate>numOfTemplate</span><span class=hierarchyType_cEEc>uint8_t</span><span class=hierarchySize_iDgU>1<!-- --> <!-- -->byte</span></div><p class=hierarchyDesc_qbou>지문 템플릿의 개수입니다. Access on Card (AOC) 카드 구조상 템플릿은 <code>BS2SmartCardCredentials</code>에 저장됩니다. 지문 또는 얼굴을 선택적으로 저장해야 합니다. 지문과 얼굴이 함께 저장되지 않으므로 AOC 카드에 지문 템플릿을 저장하려면, <code>numOfFaceTemplate</code>은 반드시 <code>0</code>으로 설정되어야 합니다.<ul class=hierarchyNotes_QTbs><li><p class=hierarchyDesc_qbou>최대 4개의 지문 템플릿을 지원합니다. 지문 템플릿 데이터 영역에 대한 자세한 내용은 <a href=#bs2smartcardcredentials>다음 문서</a>를 참고하세요.</ul></ul><ul class=hierarchyItem_GODh><li class=hierarchyNode_fJgq><div class=nodeHeader_VmLc><span class=hierarchyName_Xieu id=templatesize>templateSize</span><span class=hierarchyType_cEEc>uint16_t</span><span class=hierarchySize_iDgU>2<!-- --> <!-- -->bytes</span></div><p class=hierarchyDesc_qbou>지문 템플릿의 크기입니다. 일반적인 지문 템플릿의 크기는 384바이트로 고정되어 있습니다. BioStar 2에서 스마트 카드를 사용하려면 기본값은 300바이트이며, 필요에 따라 변경할 수 있지만 템플릿의 크기가 너무 작게 설정되면 지문 매칭에 문제가 발생할 수 있으므로 300바이트 이상으로 설정하는 것을 권장합니다.<ul class=hierarchyNotes_QTbs><li><p class=hierarchyDesc_qbou>300바이트로 설정 시 384바이트 크기의 배열에 300바이트를 복사하고 나머지 84바이트는 0으로 패딩해야 합니다.<li><p class=hierarchyDesc_qbou>Mifare 1K Classic 카드에 2개의 지문을 저장하려면 각 템플릿을 300바이트로 설정해야 합니다.</ul></ul><ul class=hierarchyItem_GODh><li class=hierarchyNode_fJgq><div class=nodeHeader_VmLc><span class=hierarchyName_Xieu id=issuecount>issueCount</span><span class=hierarchyType_cEEc>uint16_t</span><span class=hierarchySize_iDgU>2<!-- --> <!-- -->bytes</span></div><p class=hierarchyDesc_qbou>스마트 카드 발급 회차입니다. 카드 ID와 발급 회차를 조합하여 블랙리스트를 관리하므로 발급 회차를 정확히 관리해야 합니다. 카드 재발급 시 발급 회차를 1씩 증가시켜야 합니다.</ul><ul class=hierarchyItem_GODh><li class=hierarchyNode_fJgq><div class=nodeHeader_VmLc><span class=hierarchyName_Xieu id=duressmask>duressMask</span><span class=hierarchyType_cEEc>uint8_t</span><span class=hierarchySize_iDgU>1<!-- --> <!-- -->byte</span></div><p class=hierarchyDesc_qbou>협박 지문 유무 마스크 값입니다.</ul><ul class=hierarchyItem_GODh><li class=hierarchyNode_fJgq><div class=nodeHeader_VmLc><span class=hierarchyName_Xieu id=numoffacetemplate>numOfFaceTemplate</span><span class=hierarchyType_cEEc>uint8_t</span><span class=hierarchySize_iDgU>1<!-- --> <!-- -->byte</span></div><p class=hierarchyDesc_qbou>얼굴 템플릿 수를 나타냅니다. 지문과 얼굴이 갖는 기본 템플릿(지문:384, 얼굴:552)의 크기가 다르지만, 이 경우에도 변함없이 <code>BS2SmartCardCredentials</code>의 <code>templateData</code>의 전체 크기를 고려하여 저장하면 됩니다. AOC 카드 구조 상 템플릿은 <code>BS2SmartCardCredentials</code>에 저장됩니다. 그리고 여기에는 지문 또는 얼굴을 선택적으로 저장해야 합니다. 지문과 얼굴이 함께 저장되지 않으므로 AOC 카드에 얼굴 템플릿을 저장하려면, <code>numOfTemplate</code>은 반드시 <code>0</code>으로 설정되어야 합니다.<ul class=hierarchyNotes_QTbs><li><p class=hierarchyDesc_qbou>최대 1개의 얼굴 템플릿을 지원합니다.</ul></ul><ul class=hierarchyItem_GODh><li class=hierarchyNode_fJgq><div class=nodeHeader_VmLc><span class=hierarchyName_Xieu id=reserved>reserved</span><span class=hierarchyType_cEEc>uint8_t[1]</span><span class=hierarchySize_iDgU>1<!-- --> <!-- -->byte</span></div><p class=hierarchyDesc_qbou>예약된 공간입니다.</ul></div></div></ul><ul class=hierarchyItem_GODh><li class=hierarchyNode_fJgq><div class=nodeHeader_VmLc><span class=hierarchyName_Xieu id="인증 설정">인증 설정</span></div><p class=hierarchyDesc_qbou>카드 인증 모드 및 옵션</li><div class=childrenContainer_yihK><div class="hierarchyLevel_eVaW nestedLevel_fvI8"><ul class=hierarchyItem_GODh><li class=hierarchyNode_fJgq><div class=nodeHeader_VmLc><span class=hierarchyName_Xieu id=cardauthmode>cardAuthMode</span><span class=hierarchyType_cEEc>uint8_t</span><span class=hierarchySize_iDgU>1<!-- --> <!-- -->byte</span></div><p class=hierarchyDesc_qbou><b>IR Face</b> 기반 카드 인증 모드 설정값입니다. 개인 인증 모드로 장치에 설정된 인증 모드가 아닌 카드에 저장된 인증 모드를 사용하게 됩니다.<ul class=hierarchyNotes_QTbs><li><p class=hierarchyDesc_qbou><b>Visual Face</b> 기반은 <code>cardAuthModeEx</code>를 사용하세요.</ul><div class=fieldConstants_jw4N><h6>가능한 값</h6><table class=constantsTable_GcDj><thead><tr><th>값<th>설명<tbody><tr><td class=constantValue_cMnk>2<td><p>카드 인증만 사용<tr><td class=constantValue_cMnk>3<td><p>카드와 지문 인증 사용<tr><td class=constantValue_cMnk>4<td><p>카드와 PIN 인증 사용<tr><td class=constantValue_cMnk>5<td><p>카드 인증 후 지문이나 PIN 인증 사용<tr><td class=constantValue_cMnk>6<td><p>카드, 지문, PIN 인증 사용<tr><td class=constantValue_cMnk>254<td><p>사용할 수 없음<tr><td class=constantValue_cMnk>255<td><p>정의되지 않음(시스템에 정의된 모드로 동작)</table></div></ul><ul class=hierarchyItem_GODh><li class=hierarchyNode_fJgq><div class=nodeHeader_VmLc><span class=hierarchyName_Xieu id=cardauthmodeex>cardAuthModeEx</span><span class=hierarchyType_cEEc>uint8_t</span><span class=hierarchySize_iDgU>1<!-- --> <!-- -->byte</span></div><p class=hierarchyDesc_qbou><span class=badge>SDK v2.7.1 or later</span> <b>Visual Face</b> 기반 카드 인증 모드 설정값입니다. 개인 인증 모드로 장치에 설정된 인증 모드가 아닌 카드에 저장된 인증 모드를 사용하게 됩니다.<ul class=hierarchyNotes_QTbs><li><p class=hierarchyDesc_qbou>슈프리마 장치는 FaceStation F2, BioStation 3, BioEntry W3 모델에서 지원합니다.<li><p class=hierarchyDesc_qbou><b>IR Face</b> 기반은 <code>cardAuthMode</code>를 사용하세요.<li><p class=hierarchyDesc_qbou>모든 장치에 일관되게 적용하려면 <code>cardAuthMode</code>, <code>cardAuthModeEx</code> 모두를 설정해야 합니다. 지원하는 장치를 확인하세요.</ul><div class=fieldConstants_jw4N><h6>가능한 값</h6><table class=constantsTable_GcDj><thead><tr><th>값<th>설명<tbody><tr><td class=constantValue_cMnk>21<td><p>카드<tr><td class=constantValue_cMnk>22<td><p>카드 + 얼굴<tr><td class=constantValue_cMnk>23<td><p>카드 + 지문<tr><td class=constantValue_cMnk>24<td><p>카드 + PIN<tr><td class=constantValue_cMnk>25<td><p>카드 + 얼굴 또는 지문<tr><td class=constantValue_cMnk>26<td><p>카드 + 얼굴 또는 PIN<tr><td class=constantValue_cMnk>27<td><p>카드 + 지문 또는 PIN<tr><td class=constantValue_cMnk>28<td><p>카드 + 얼굴 또는 지문 또는 PIN<tr><td class=constantValue_cMnk>29<td><p>카드 + 얼굴 + 지문<tr><td class=constantValue_cMnk>30<td><p>카드 + 얼굴 + PIN<tr><td class=constantValue_cMnk>31<td><p>카드 + 지문 + 얼굴<tr><td class=constantValue_cMnk>32<td><p>카드 + 지문 + PIN<tr><td class=constantValue_cMnk>33<td><p>카드 + 얼굴 또는 지문 + PIN<tr><td class=constantValue_cMnk>34<td><p>카드 + 얼굴 + 지문 또는 PIN<tr><td class=constantValue_cMnk>35<td><p>카드 + 지문 + 얼굴 또는 PIN<tr><td class=constantValue_cMnk>254<td><p>사용할 수 없음<tr><td class=constantValue_cMnk>255<td><p>정의되지 않음(시스템 정의 모드)</table></div></ul><ul class=hierarchyItem_GODh><li class=hierarchyNode_fJgq><div class=nodeHeader_VmLc><span class=hierarchyName_Xieu id=usealphanumericid>useAlphanumericID</span><span class=hierarchyType_cEEc>uint8_t</span><span class=hierarchySize_iDgU>1<!-- --> <!-- -->byte</span></div><p class=hierarchyDesc_qbou>영숫자(Alphanumeric) ID를 사용할지 결정하는 플래그(flag)입니다.</ul></div></div></ul></div></div></ul></div></div></div><div class=section_UAKO><div class=sectionHeader_fRZ_><h4>의존성 관계</h4></div><div class=dependencyGroup_PDbs><h5>이 구조체가 의존하는 타입</h5><div class=dependencyList_DTc4><div class=dependency_R2lA><span class=depName_u4Ua><a href=#bs2_card_type class=structLink_tUc1>BS2_CARD_TYPE</a></span><span class=depType_lMEs>enum</span><span class=depDesc_T3ac>카드 타입 열거형</span></div></div></div><div class=dependencyGroup_PDbs><h5>이 구조체를 사용하는 타입</h5><div class=dependencyList_DTc4><div class=dependency_R2lA><span class=depName_u4Ua><a href=#bs2smartcarddata class=structLink_tUc1>BS2SmartCardData</a></span><span class=depType_lMEs>struct</span><span class=depDesc_T3ac>SmartCard 데이터 구조체</span></div></div></div></div></div>
<div class=typedefContainer_Wn7J><div><div class=titleRow_juh5><h3 class="anchor anchorWithStickyNavbar_LWe7" id=bs2smartcardcredentials>BS2SmartCardCredentials<a href=#bs2smartcardcredentials class=hash-link aria-label="BS2SmartCardCredentials에 대한 직접 링크" title="BS2SmartCardCredentials에 대한 직접 링크">​</a></h3><div class=metadata_jjxW><span class=category_KdBD>Credentials</span><span class=size_yHpg>1568<!-- --> <!-- -->bytes</span></div></div><p class=description_vl9m>PIN 코드와 생체 인식 템플릿을 저장하는 구조체입니다.</div><div class=section_UAKO><div class=sectionHeader_fRZ_><h4>구조 계층</h4></div><div class=hierarchyContainer_TJKg><div class="hierarchyLevel_eVaW nestedLeveltop_mB2_"><ul class=hierarchyItem_GODh><li class=hierarchyNode_fJgq><div class=nodeHeader_VmLc><span class=hierarchyName_Xieu id=bs2smartcardcredentials>BS2SmartCardCredentials</span><span class=hierarchyType_cEEc>struct</span><span class=hierarchySize_iDgU>1568<!-- --> <!-- -->bytes</span></div><p class=hierarchyDesc_qbou>인증 정보 저장 구조체</li><div class=childrenContainer_yihK><div class="hierarchyLevel_eVaW nestedLevel_fvI8"><ul class=hierarchyItem_GODh><li class=hierarchyNode_fJgq><div class=nodeHeader_VmLc><span class=hierarchyName_Xieu id=pin>pin</span><span class=hierarchyType_cEEc>uint8_t[BS2_PIN_HASH_SIZE]</span><span class=hierarchySize_iDgU>32<!-- --> <!-- -->bytes</span></div><p class=hierarchyDesc_qbou>PIN 코드 해시값입니다. PIN 코드를 직접 해시하지 말고 BioStar 2 SDK의 해시 함수를 사용하여 장치와 동일한 해시 알고리즘으로 생성해야 합니다.</ul><ul class=hierarchyItem_GODh><li class=hierarchyNode_fJgq><div class=nodeHeader_VmLc><span class=hierarchyName_Xieu id=templatedata>templateData</span><span class=hierarchyType_cEEc>uint8_t[S2_SMART_CARD_MAX_TEMPLATE_COUNT * BS2_FINGER_TEMPLATE_SIZE]</span><span class=hierarchySize_iDgU>1536<!-- --> <!-- -->bytes</span></div><p class=hierarchyDesc_qbou>지문 템플릿 데이터 영역으로 최대 4개의 지문 템플릿을 저장할 수 있습니다.</li><div class=childrenContainer_yihK><div class="hierarchyLevel_eVaW nestedLevel_fvI8"><ul class=hierarchyItem_GODh><li class=hierarchyNode_fJgq><div class=nodeHeader_VmLc><span class=hierarchyName_Xieu id="template 1">Template 1</span><span class=hierarchyType_cEEc>uint8_t[384]</span><span class=hierarchySize_iDgU>384<!-- --> <!-- -->bytes</span></div><p class=hierarchyDesc_qbou>첫 번째 지문 템플릿</ul><ul class=hierarchyItem_GODh><li class=hierarchyNode_fJgq><div class=nodeHeader_VmLc><span class=hierarchyName_Xieu id="template 2">Template 2</span><span class=hierarchyType_cEEc>uint8_t[384]</span><span class=hierarchySize_iDgU>384<!-- --> <!-- -->bytes</span></div><p class=hierarchyDesc_qbou>두 번째 지문 템플릿</ul><ul class=hierarchyItem_GODh><li class=hierarchyNode_fJgq><div class=nodeHeader_VmLc><span class=hierarchyName_Xieu id="template 3">Template 3</span><span class=hierarchyType_cEEc>uint8_t[384]</span><span class=hierarchySize_iDgU>384<!-- --> <!-- -->bytes</span></div><p class=hierarchyDesc_qbou>세 번째 지문 템플릿</ul><ul class=hierarchyItem_GODh><li class=hierarchyNode_fJgq><div class=nodeHeader_VmLc><span class=hierarchyName_Xieu id="template 4">Template 4</span><span class=hierarchyType_cEEc>uint8_t[384]</span><span class=hierarchySize_iDgU>384<!-- --> <!-- -->bytes</span></div><p class=hierarchyDesc_qbou>네 번째 지문 템플릿</ul></div></div></ul></div></div></ul></div></div></div><div class=section_UAKO><div class=sectionHeader_fRZ_><h4>상수 정의</h4><span class=sectionSubtitle_Uhu4>3<!-- -->개 상수</span></div><table class=variantsTable_UAHC><thead><tr><th>값<th>설명<th>비고<tbody><tr><td class=constantValue_cMnk>BS2_PIN_HASH_SIZE<td>PIN 해시 크기<td>32바이트<tr><td class=constantValue_cMnk>BS2_SMART_CARD_MAX_TEMPLATE_COUNT<td>최대 템플릿 개수<td>4개<tr><td class=constantValue_cMnk>BS2_FINGER_TEMPLATE_SIZE<td>지문 템플릿 크기<td>384바이트</table></div><div class=section_UAKO><div class=sectionHeader_fRZ_><h4>의존성 관계</h4></div><div class=dependencyGroup_PDbs><h5>이 구조체를 사용하는 타입</h5><div class=dependencyList_DTc4><div class=dependency_R2lA><span class=depName_u4Ua><a href=#bs2smartcarddata class=structLink_tUc1>BS2SmartCardData</a></span><span class=depType_lMEs>struct</span><span class=depDesc_T3ac>SmartCard 데이터 구조체</span></div></div></div></div></div>
<div class=typedefContainer_Wn7J><div><div class=titleRow_juh5><h3 class="anchor anchorWithStickyNavbar_LWe7" id=bs2accessoncarddata>BS2AccessOnCardData<a href=#bs2accessoncarddata class=hash-link aria-label="BS2AccessOnCardData에 대한 직접 링크" title="BS2AccessOnCardData에 대한 직접 링크">​</a></h3><div class=metadata_jjxW><span class=category_KdBD>Access Control</span><span class=size_yHpg>40<!-- --> <!-- -->bytes</span></div></div><p class=description_vl9m>AOC 카드의 출입 권한 정보를 저장하는 구조체입니다.</div><div class=section_UAKO><div class=sectionHeader_fRZ_><h4>구조 계층</h4></div><div class=hierarchyContainer_TJKg><div class="hierarchyLevel_eVaW nestedLeveltop_mB2_"><ul class=hierarchyItem_GODh><li class=hierarchyNode_fJgq><div class=nodeHeader_VmLc><span class=hierarchyName_Xieu id=bs2accessoncarddata>BS2AccessOnCardData</span><span class=hierarchyType_cEEc>struct</span><span class=hierarchySize_iDgU>40<!-- --> <!-- -->bytes</span></div><p class=hierarchyDesc_qbou>출입 권한 정보 구조체</li><div class=childrenContainer_yihK><div class="hierarchyLevel_eVaW nestedLevel_fvI8"><ul class=hierarchyItem_GODh><li class=hierarchyNode_fJgq><div class=nodeHeader_VmLc><span class=hierarchyName_Xieu id=accessgroupid>accessGroupID</span><span class=hierarchyType_cEEc>uint16_t[BS2_SMART_CARD_MAX_ACCESS_GROUP_COUNT]</span><span class=hierarchySize_iDgU>32<!-- --> <!-- -->bytes</span></div><p class=hierarchyDesc_qbou>출입 그룹 ID 리스트입니다. 각 그룹은 1부터 65535까지의 ID를 가질 수 있으며, 최대 16개의 그룹을 지원합니다.</li><div class=childrenContainer_yihK><div class="hierarchyLevel_eVaW nestedLevel_fvI8"><ul class=hierarchyItem_GODh><li class=hierarchyNode_fJgq><div class=nodeHeader_VmLc><span class=hierarchyName_Xieu id="group id 1">Group ID 1</span><span class=hierarchyType_cEEc>uint16_t</span><span class=hierarchySize_iDgU>2<!-- --> <!-- -->bytes</span></div><p class=hierarchyDesc_qbou>첫 번째 출입 그룹</ul><ul class=hierarchyItem_GODh><li class=hierarchyNode_fJgq><div class=nodeHeader_VmLc><span class=hierarchyName_Xieu id="group id 2">Group ID 2</span><span class=hierarchyType_cEEc>uint16_t</span><span class=hierarchySize_iDgU>2<!-- --> <!-- -->bytes</span></div><p class=hierarchyDesc_qbou>두 번째 출입 그룹</ul><ul class=hierarchyItem_GODh><li class=hierarchyNode_fJgq><div class=nodeHeader_VmLc><span class=hierarchyName_Xieu id=...>...</span><span class=hierarchyType_cEEc>uint16_t</span><span class=hierarchySize_iDgU>2<!-- --> <!-- -->bytes</span></div><p class=hierarchyDesc_qbou>...</ul><ul class=hierarchyItem_GODh><li class=hierarchyNode_fJgq><div class=nodeHeader_VmLc><span class=hierarchyName_Xieu id="group id 16">Group ID 16</span><span class=hierarchyType_cEEc>uint16_t</span><span class=hierarchySize_iDgU>2<!-- --> <!-- -->bytes</span></div><p class=hierarchyDesc_qbou>마지막 출입 그룹</ul></div></div></ul><ul class=hierarchyItem_GODh><li class=hierarchyNode_fJgq><div class=nodeHeader_VmLc><span class=hierarchyName_Xieu id="시간 제한">시간 제한</span></div><p class=hierarchyDesc_qbou>출입 가능 시간 범위입니다.</li><div class=childrenContainer_yihK><div class="hierarchyLevel_eVaW nestedLevel_fvI8"><ul class=hierarchyItem_GODh><li class=hierarchyNode_fJgq><div class=nodeHeader_VmLc><span class=hierarchyName_Xieu id=starttime>startTime</span><span class=hierarchyType_cEEc>BS2_DATETIME</span><span class=hierarchySize_iDgU>4<!-- --> <!-- -->bytes</span></div><p class=hierarchyDesc_qbou>사용자 인증이 가능한 시작 시간이며, <code>0</code>일 경우 제한이 없습니다. Unix timestamp 형식으로 초 단위입니다.</ul><ul class=hierarchyItem_GODh><li class=hierarchyNode_fJgq><div class=nodeHeader_VmLc><span class=hierarchyName_Xieu id=endtime>endTime</span><span class=hierarchyType_cEEc>BS2_DATETIME</span><span class=hierarchySize_iDgU>4<!-- --> <!-- -->bytes</span></div><p class=hierarchyDesc_qbou>사용자 인증이 가능한 마지막 시간이며, <code>0</code>일 경우 제한이 없습니다. Unix timestamp 형식으로 초 단위입니다.</ul></div></div></ul></div></div></ul></div></div></div><div class=section_UAKO><div class=sectionHeader_fRZ_><h4>상수 정의</h4><span class=sectionSubtitle_Uhu4>1<!-- -->개 상수</span></div><table class=variantsTable_UAHC><thead><tr><th>값<th>설명<th>비고<tbody><tr><td class=constantValue_cMnk>BS2_SMART_CARD_MAX_ACCESS_GROUP_COUNT<td>최대 출입 그룹 개수<td>16개</table></div><div class=section_UAKO><div class=sectionHeader_fRZ_><h4>의존성 관계</h4></div><div class=dependencyGroup_PDbs><h5>이 구조체가 의존하는 타입</h5><div class=dependencyList_DTc4><div class=dependency_R2lA><span class=depName_u4Ua><a href=#bs2_datetime class=structLink_tUc1>BS2_DATETIME</a></span><span class=depType_lMEs>typedef</span><span class=depDesc_T3ac>날짜/시간 타입</span></div></div></div><div class=dependencyGroup_PDbs><h5>이 구조체를 사용하는 타입</h5><div class=dependencyList_DTc4><div class=dependency_R2lA><span class=depName_u4Ua><a href=#bs2smartcarddata class=structLink_tUc1>BS2SmartCardData</a></span><span class=depType_lMEs>struct</span><span class=depDesc_T3ac>SmartCard 데이터 구조체</span></div></div></div></div></div>
<div class=typedefContainer_Wn7J><div><div class=titleRow_juh5><h3 class="anchor anchorWithStickyNavbar_LWe7" id=bs2smartcarddata>BS2SmartCardData<a href=#bs2smartcarddata class=hash-link aria-label="BS2SmartCardData에 대한 직접 링크" title="BS2SmartCardData에 대한 직접 링크">​</a></h3><div class=metadata_jjxW><span class=category_KdBD>Smart Card</span><span class=size_yHpg>1656<!-- --> <!-- -->bytes</span></div></div><p class=description_vl9m>SmartCard의 모든 데이터를 포함하는 복합 구조체입니다.</div><div class=section_UAKO><div class=sectionHeader_fRZ_><h4>구조 계층</h4></div><div class=hierarchyContainer_TJKg><div class="hierarchyLevel_eVaW nestedLeveltop_mB2_"><ul class=hierarchyItem_GODh><li class=hierarchyNode_fJgq><div class=nodeHeader_VmLc><span class=hierarchyName_Xieu id=bs2smartcarddata>BS2SmartCardData</span><span class=hierarchyType_cEEc>composite struct</span><span class=hierarchySize_iDgU>1656<!-- --> <!-- -->bytes</span></div><p class=hierarchyDesc_qbou>SmartCard 전체 데이터 컨테이너</li><div class=childrenContainer_yihK><div class="hierarchyLevel_eVaW nestedLevel_fvI8"><ul class=hierarchyItem_GODh><li class=hierarchyNode_fJgq><div class=nodeHeader_VmLc><span class=hierarchyName_Xieu id=header>header</span><span class=hierarchyType_cEEc>BS2SmartCardHeader</span><span class=hierarchySize_iDgU>16<!-- --> <!-- -->bytes</span></div><p class=hierarchyDesc_qbou>SmartCard 헤더입니다.<div class=references_Fuyx><span class=referencesLabel_ptzV>참조:</span><a href=#bs2smartcardheader class=reference_oQRT>BS2SmartCardHeader</a></div></ul><ul class=hierarchyItem_GODh><li class=hierarchyNode_fJgq><div class=nodeHeader_VmLc><span class=hierarchyName_Xieu id=cardid>cardID</span><span class=hierarchyType_cEEc>uint8_t[BS2_CARD_DATA_SIZE]</span><span class=hierarchySize_iDgU>32<!-- --> <!-- -->bytes</span></div><p class=hierarchyDesc_qbou>단말기에서 사용할 카드 식별자입니다. <b>Access on Card(AOC)</b>는 배열의 32byte를 Card ID로 사용하고, <b>Secure Credential Card(SCC)</b>는 배열의 24byte를 Card ID로 사용합니다. <b>Secure Credential Card(SCC)</b>는 32byte를 Card ID(24 bytes)로, issueCount(4byte) 그리고 Time Stamp(4byte)로 채워져야 합니다. 또한, <code>BS2UserBlob</code> 구조체의 cardObjs array가 SC Card로 채워야 하며, SC Card 발급 시마다 <code>cardObjs</code>를 업데이트해야 합니다.</li><div class=childrenContainer_yihK><div class="hierarchyLevel_eVaW nestedLevel_fvI8"><ul class=hierarchyItem_GODh><li class=hierarchyNode_fJgq><div class=nodeHeader_VmLc><span class=hierarchyName_Xieu id="cardid: access on card(aoc)">cardID: Access on Card(AOC)</span><span class=hierarchyType_cEEc>bytes[0-31]</span><span class=hierarchySize_iDgU>32<!-- --> <!-- -->bytes</span></div><p class=hierarchyDesc_qbou>AOC: 전체 32바이트 사용</ul><ul class=hierarchyItem_GODh><li class=hierarchyNode_fJgq><div class=nodeHeader_VmLc><span class=hierarchyName_Xieu id="cardid: secure credential card(scc)">cardID: Secure Credential Card(SCC)</span><span class=hierarchyType_cEEc>bytes[0-31]</span><span class=hierarchySize_iDgU>32<!-- --> <!-- -->bytes</span></div><p class=hierarchyDesc_qbou>SCC: 카드 ID(32바이트)</li><div class=childrenContainer_yihK><div class="hierarchyLevel_eVaW nestedLevel_fvI8"><ul class=hierarchyItem_GODh><li class=hierarchyNode_fJgq><div class=nodeHeader_VmLc><span class=hierarchyName_Xieu id="cardid (scc)">cardID (SCC)</span><span class=hierarchyType_cEEc>bytes[0-23]</span><span class=hierarchySize_iDgU>24<!-- --> <!-- -->bytes</span></div><p class=hierarchyDesc_qbou>SCC: 카드 ID(24바이트)</ul><ul class=hierarchyItem_GODh><li class=hierarchyNode_fJgq><div class=nodeHeader_VmLc><span class=hierarchyName_Xieu id="issuecount (scc)">issueCount (SCC)</span><span class=hierarchyType_cEEc>bytes[24-27]</span><span class=hierarchySize_iDgU>4<!-- --> <!-- -->bytes</span></div><p class=hierarchyDesc_qbou>SCC: 발급 횟수</ul><ul class=hierarchyItem_GODh><li class=hierarchyNode_fJgq><div class=nodeHeader_VmLc><span class=hierarchyName_Xieu id="timestamp (scc)">timeStamp (SCC)</span><span class=hierarchyType_cEEc>bytes[28-31]</span><span class=hierarchySize_iDgU>4<!-- --> <!-- -->bytes</span></div><p class=hierarchyDesc_qbou>SCC: 발급 시간</ul></div></div></ul></div></div></ul><ul class=hierarchyItem_GODh><li class=hierarchyNode_fJgq><div class=nodeHeader_VmLc><span class=hierarchyName_Xieu id=credentials>credentials</span><span class=hierarchyType_cEEc>BS2SmartCardCredentials</span><span class=hierarchySize_iDgU>1568<!-- --> <!-- -->bytes</span></div><p class=hierarchyDesc_qbou>PIN 코드나 지문 템플릿이 저장되어 있는 인증 데이터 영역입니다.<div class=references_Fuyx><span class=referencesLabel_ptzV>참조:</span><a href=#bs2smartcardcredentials class=reference_oQRT>BS2SmartCardCredentials</a></div></ul><ul class=hierarchyItem_GODh><li class=hierarchyNode_fJgq><div class=nodeHeader_VmLc><span class=hierarchyName_Xieu id=accessondata>accessOnData</span><span class=hierarchyType_cEEc>BS2AccessOnCardData</span><span class=hierarchySize_iDgU>40<!-- --> <!-- -->bytes</span></div><p class=hierarchyDesc_qbou>AOC 카드에서 사용하는 영역으로 출입 그룹 정보를 가지고 있습니다.<div class=references_Fuyx><span class=referencesLabel_ptzV>참조:</span><a href=#bs2accessoncarddata class=reference_oQRT>BS2AccessOnCardData</a></div></ul></div></div></ul></div></div></div><div class=section_UAKO><div class=sectionHeader_fRZ_><h4>의존성 관계</h4></div><div class=dependencyGroup_PDbs><h5>이 구조체가 의존하는 타입</h5><div class=dependencyList_DTc4><div class=dependency_R2lA><span class=depName_u4Ua><a href=#bs2smartcardheader class=structLink_tUc1>BS2SmartCardHeader</a></span><span class=depType_lMEs>struct</span><span class=depDesc_T3ac>SmartCard 헤더</span></div><div class=dependency_R2lA><span class=depName_u4Ua><a href=#bs2smartcardcredentials class=structLink_tUc1>BS2SmartCardCredentials</a></span><span class=depType_lMEs>struct</span><span class=depDesc_T3ac>인증 정보</span></div><div class=dependency_R2lA><span class=depName_u4Ua><a href=#bs2accessoncarddata class=structLink_tUc1>BS2AccessOnCardData</a></span><span class=depType_lMEs>struct</span><span class=depDesc_T3ac>출입 권한 데이터</span></div><div class=dependency_R2lA><span class=depName_u4Ua><a href=#bs2_card_data_size class=structLink_tUc1>BS2_CARD_DATA_SIZE</a></span><span class=depType_lMEs>constant</span><span class=depDesc_T3ac>카드 데이터 크기 상수(32)</span></div></div></div><div class=dependencyGroup_PDbs><h5>이 구조체를 사용하는 타입</h5><div class=dependencyList_DTc4><div class=dependency_R2lA><span class=depName_u4Ua><a href=#bs2card class=structLink_tUc1>BS2Card</a></span><span class=depType_lMEs>union</span><span class=depDesc_T3ac>카드 타입 래퍼</span></div></div></div></div></div>
<div class=typedefContainer_Wn7J><div><div class=titleRow_juh5><h3 class="anchor anchorWithStickyNavbar_LWe7" id=bs2card>BS2Card<a href=#bs2card class=hash-link aria-label="BS2Card에 대한 직접 링크" title="BS2Card에 대한 직접 링크">​</a></h3><div class=metadata_jjxW><span class=category_KdBD>Core Structure</span><span class=size_yHpg>1657<!-- --> <!-- -->bytes</span></div></div><p class=description_vl9m>모든 카드 타입을 포괄하는 최상위 구조체입니다.</div><div class=section_UAKO><div class=sectionHeader_fRZ_><h4>구조 계층</h4></div><div class=hierarchyContainer_TJKg><div class="hierarchyLevel_eVaW nestedLeveltop_mB2_"><ul class=hierarchyItem_GODh><li class=hierarchyNode_fJgq><div class=nodeHeader_VmLc><span class=hierarchyName_Xieu id=bs2card>BS2Card</span><span class=hierarchyType_cEEc>union wrapper</span><span class=hierarchySize_iDgU>1657<!-- --> <!-- -->bytes</span></div><p class=hierarchyDesc_qbou>카드 타입 식별 및 데이터 저장</li><div class=childrenContainer_yihK><div class="hierarchyLevel_eVaW nestedLevel_fvI8"><ul class=hierarchyItem_GODh><li class=hierarchyNode_fJgq><div class=nodeHeader_VmLc><span class=hierarchyName_Xieu id=issmartcard>isSmartCard</span><span class=hierarchyType_cEEc>uint8_t</span><span class=hierarchySize_iDgU>1<!-- --> <!-- -->byte</span></div><p class=hierarchyDesc_qbou>SmartCard 여부를 나타내는 플래그(flag)입니다.<div class=fieldConstants_jw4N><h6>가능한 값</h6><table class=constantsTable_GcDj><thead><tr><th>값<th>설명<tbody><tr><td class=constantValue_cMnk>1<td><p>SmartCard (<code>BS2SmartCardData</code> 사용)</table></div></ul><ul class=hierarchyItem_GODh><li class=hierarchyNode_fJgq><div class=nodeHeader_VmLc><span class=hierarchyName_Xieu id="union 데이터">Union 데이터</span></div><p class=hierarchyDesc_qbou>카드 타입별 데이터</li><div class=childrenContainer_yihK><div class="hierarchyLevel_eVaW nestedLevel_fvI8"><ul class=hierarchyItem_GODh><li class=hierarchyNode_fJgq><div class=nodeHeader_VmLc><span class=hierarchyName_Xieu id=smartcard>smartCard</span><span class=hierarchyType_cEEc>BS2SmartCardData</span><span class=hierarchySize_iDgU>1656<!-- --> <!-- -->bytes</span></div><p class=hierarchyDesc_qbou>SmartCard 데이터입니다. <code>isSmartCard</code>가 <code>1</code>일 때 사용합니다.<div class=references_Fuyx><span class=referencesLabel_ptzV>참조:</span><a href=#bs2smartcarddata class=reference_oQRT>BS2SmartCardData</a></div></ul></div></div></ul></div></div></ul></div></div></div><div class=section_UAKO><div class=sectionHeader_fRZ_><h4>의존성 관계</h4></div><div class=dependencyGroup_PDbs><h5>이 구조체가 의존하는 타입</h5><div class=dependencyList_DTc4><div class=dependency_R2lA><span class=depName_u4Ua><a href=#bs2smartcarddata class=structLink_tUc1>BS2SmartCardData</a></span><span class=depType_lMEs>struct</span><span class=depDesc_T3ac>SmartCard 데이터 구조체</span></div></div></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=crc>CRC 계산 및 검증<a href=#crc class=hash-link aria-label="CRC 계산 및 검증에 대한 직접 링크" title="CRC 계산 및 검증에 대한 직접 링크">​</a></h2>
<p>SmartCard 데이터의 무결성을 보장하기 위해 헤더와 카드 데이터에 각각 CRC-16 CCITT 체크섬(<code>hdrCRC</code>, <code>cardCRC</code>)을 사용합니다.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=hdrcrc-cardcrc>hdrCRC, cardCRC란?<a href=#hdrcrc-cardcrc class=hash-link aria-label="hdrCRC, cardCRC란?에 대한 직접 링크" title="hdrCRC, cardCRC란?에 대한 직접 링크">​</a></h3>
<ul>
<li><code>hdrCRC</code>: <code>BS2SmartCardHeader</code>의 <code>cardCRC</code>부터 <code>reserved</code>까지(총 14바이트)에 대해 CRC-16 CCITT(다항식 0x1021, 초기값 0xFFFF)로 계산한 값입니다.</li>
<li><code>cardCRC</code>: <code>cardType</code>부터 <code>BS2SmartCardData.accessOnData</code>까지(헤더를 제외한 카드 데이터 전체)에 대해 CRC-16 CCITT(다항식 0x1021, 초기값 0xFFFF)로 계산한 값입니다.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=crc-calculation>CRC 계산 방법<a href=#crc-calculation class=hash-link aria-label="CRC 계산 방법에 대한 직접 링크" title="CRC 계산 방법에 대한 직접 링크">​</a></h3>
<p><a href=https://kb.supremainc.com/bs2sdk/doku.php target=_blank rel="noopener noreferrer">BioStar 2 SDK</a>에서는 <strong>BS2_ComputeCRC16CCITT</strong> 함수를 제공합니다. 아래는 사용 예시입니다.</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockTitle_OeMC>Calculate checksum</div><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Calculate card data checksum (cardCRC)</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token class-name" style="color:rgb(255, 203, 107)">uint16_t</span><span class="token plain"> cardCRC </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0xFFFF</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token class-name keyword" style="color:rgb(255, 203, 107);font-style:italic">int</span><span class="token plain"> result </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">BS2_ComputeCRC16CCITT</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">uint8_t</span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(137, 221, 255)">&</span><span class="token plain">card</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">header</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">cardType</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token keyword" style=font-style:italic>sizeof</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token type-expression class-name" style="color:rgb(255, 203, 107)">BS2SmartCardData</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">offsetof</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">BS2SmartCardHeader</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> cardType</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&</span><span class="token plain">cardCRC</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Calculate header checksum (hdrCRC)</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">card</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">header</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">cardCRC </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> cardCRC</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Set the cardCRC value first</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token class-name" style="color:rgb(255, 203, 107)">uint16_t</span><span class="token plain"> hdrCRC </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0xFFFF</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">result </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">BS2_ComputeCRC16CCITT</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">uint8_t</span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(137, 221, 255)">&</span><span class="token plain">card</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">header</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">cardCRC</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token keyword" style=font-style:italic>sizeof</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token type-expression class-name" style="color:rgb(255, 203, 107)">BS2SmartCardHeader</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">offsetof</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">BS2SmartCardHeader</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> cardCRC</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&</span><span class="token plain">hdrCRC</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-note admonition_Gfwi alert alert--secondary"><div class=admonitionContent_UjKb><div class=admNote><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"/></svg></div><ul>
<li>
<p><code>cardCRC</code>는 <code>cardType</code>부터 <code>accessOnData</code>까지 계산합니다.</p>
</li>
<li>
<p><code>hdrCRC</code>는 <code>cardCRC</code>부터 <code>reserved</code>까지 계산합니다.</p>
</li>
<li>
<p>반드시 <code>cardCRC</code>를 먼저 계산한 후 헤더에 설정하고, 그 다음 <code>hdrCRC</code>를 계산해야 합니다.</p>
</li>
</ul></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=crc-validation>검증 방법<a href=#crc-validation class=hash-link aria-label="검증 방법에 대한 직접 링크" title="검증 방법에 대한 직접 링크">​</a></h3>
<p>카드 데이터를 읽을 때 무결성을 검증하려면 다음과 같이 수행하세요.</p>
<ol>
<li>
<p>카드에서 읽은 데이터로 CRC 재계산</p>
</li>
<li>
<p>저장된 CRC 값과 계산된 CRC 값 비교</p>
</li>
</ol>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockTitle_OeMC>CRC Validation</div><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// CRC validation example</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token class-name" style="color:rgb(255, 203, 107)">BS2SmartCardData</span><span class="token plain"> readCard</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Data read from card</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// 1. cardCRC validation</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token class-name" style="color:rgb(255, 203, 107)">uint16_t</span><span class="token plain"> calculatedCardCRC </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0xFFFF</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">BS2_ComputeCRC16CCITT</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">uint8_t</span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(137, 221, 255)">&</span><span class="token plain">readCard</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">header</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">cardType</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token keyword" style=font-style:italic>sizeof</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token type-expression class-name" style="color:rgb(255, 203, 107)">BS2SmartCardData</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">offsetof</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">BS2SmartCardHeader</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> cardType</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&</span><span class="token plain">calculatedCardCRC</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token keyword" style=font-style:italic>if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">readCard</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">header</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">cardCRC </span><span class="token operator" style="color:rgb(137, 221, 255)">!=</span><span class="token plain"> calculatedCardCRC</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Card data corruption</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token keyword" style=font-style:italic>return</span><span class="token plain"> ERROR_CARD_DATA_CORRUPTED</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// 2. hdrCRC validation</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token class-name" style="color:rgb(255, 203, 107)">uint16_t</span><span class="token plain"> calculatedHdrCRC </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0xFFFF</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">BS2_ComputeCRC16CCITT</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">uint8_t</span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(137, 221, 255)">&</span><span class="token plain">readCard</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">header</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">cardCRC</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token keyword" style=font-style:italic>sizeof</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token type-expression class-name" style="color:rgb(255, 203, 107)">BS2SmartCardHeader</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">offsetof</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">BS2SmartCardHeader</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> cardCRC</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&</span><span class="token plain">calculatedHdrCRC</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token keyword" style=font-style:italic>if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">readCard</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">header</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">hdrCRC </span><span class="token operator" style="color:rgb(137, 221, 255)">!=</span><span class="token plain"> calculatedHdrCRC</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Header data corruption</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token keyword" style=font-style:italic>return</span><span class="token plain"> ERROR_HEADER_DATA_CORRUPTED</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-note admonition_Gfwi alert alert--secondary"><div class=admonitionContent_UjKb><div class=admNote><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"/></svg></div><p><strong>CRC 계산 시 주의사항</strong><ul>
<li>
<p><strong>계산 순서</strong>: 반드시 <code>cardCRC</code>를 먼저 계산한 후 헤더에 설정하고, 그 다음 <code>hdrCRC</code>를 계산해야 합니다.</p>
</li>
<li>
<p><strong>구조체 정렬</strong>: CRC 계산 범위가 정확히 일치해야 하며, 구조체 패딩이나 정렬에 주의하세요.</p>
</li>
<li>
<p><strong>초기값</strong>: CRC-16 CCITT는 0x1021 다항식, <strong>초기값 0xFFFF</strong>를 사용합니다.</p>
</li>
<li>
<p><strong>SDK 함수</strong>: <code>BS2_ComputeCRC16CCITT</code> 함수는 <a href=https://kb.supremainc.com/bs2sdk/doku.php target=_blank rel="noopener noreferrer">BioStar 2 SDK</a>에서 제공됩니다.</p>
</li>
<li>
<p><strong>데이터 순서</strong>: 입력 데이터는 바이트 단위 Little Endian으로 처리됩니다.</p>
</li>
</ul></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class=col><a href=https://github.com/supremainc/docs/tree/main/docs/confidential/smartcardapi.mdx target=_blank rel="noopener noreferrer" class=theme-edit-this-page><svg fill=currentColor height=20 width=20 viewBox="0 0 40 40" class=iconEdit_Z9Sw aria-hidden=true><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"/></g></svg>페이지 편집</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="문서 페이지"></nav></div></div><div class="col col--3"><div class="tableOfContents_pzBX thin-scrollbar"></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer"><div class="container container-fluid"><div class="footer__bottom text--left"><div class=margin-bottom--sm><img src=/docs/img/suprema-logo-bottom.svg alt="Suprema Security & biometrics" class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE" width=173px><img src=/docs/img/suprema-logo-bottom.svg alt="Suprema Security & biometrics" class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU" width=173px></div></div><div class="footer__bottom sns--right"><ul class=sns__list><div class="footer__bottom sns--right"><ul class=sns__list><li><a href=http://pf.kakao.com/_xnkPxes target=_blank rel="noopener noreferrer"><img src=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAjCAYAAAAe2bNZAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDcuMS1jMDAwIDc5LmRhYmFjYmIsIDIwMjEvMDQvMTQtMDA6Mzk6NDQgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkI2RkJBQjg2MUMwRjExRUM5RDMwRjM4MTY2MzYyQjFGIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkI2RkJBQjg1MUMwRjExRUM5RDMwRjM4MTY2MzYyQjFGIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cykiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoyQzBFRTY4NUMyMjQxMUU4QTQyRkRDRTk1NDQ4RjFGOCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDoyQzBFRTY4NkMyMjQxMUU4QTQyRkRDRTk1NDQ4RjFGOCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PmegBfoAAAJiSURBVHja7JfPSxZBGMffDTXzBc1fQXjwJhgiJHmR0KMFglEqeQqVwIt4khe6BfXii14kRAQ1CzwpUf9BB+kiePAgKqRgiERK+Yo/0PLt88AsDMvu687uHhTeBz7MvLM7z3znmZln9rUymUzsqtiN2BWynJhrISYmG9iJiaVSKSvseDaW2+CWZXkNXE7xAp5AIxRqj09hCT7Dh0Qise8lxst8iUFEPsUrGIK4jwAcwQgkEXUemRiE3KX4oiJhahKpdgTthhajluUb1ITYlhvQZC9bNjGXnaa5kEJiqv9cqKNNVLooWl0eyR4wvUNalb/AeSbh+P0J7hPuAsoieAY/tOelMGbgz58YZnGLokFreo8IGbyCZ+/UqVqEZkj7jE6D8utpeR7txVr9TAbHUQflvNbeDXUwqcSJbUInHMIgPHbxe2K6TAVafUWdhF7HO7Ww7WifhWr4A0/hdxa/vsXoWe/Cpc22KijXfg/AKMwwAcnIq1n8+hbzV6vXs0QS3mmX/CGZOam1Vaoy7uLHXnJjMUdaXe6fN8x0gfIRTMkehxY1eL/BEU8HEZN2rPcA0ZHIrCHqpbqn7sFXKFPvlMBN2y/v33YckFX6HmcT43kd4GzYIzf8Unkmbpj4ehAzG/Q6eAtbLu2VAYRITvoYOAMzC8kVbbAX8m7agef4uwj12YkDOZoPYT2gEOnXgp+dSL6BcSQOhw1F/INxeED/73475UX8Sb2mPsQmEbFl2jmomAl4DXfUkT6QqwEBB2FmYipG8k+fSoBiP6MMq18xkhyWoctkD5ialfvjnxOTExOR/RdgAL5E3zCETnHQAAAAAElFTkSuQmCC></a><li><a href=https://blog.naver.com/supremakr target=_blank rel="noopener noreferrer"><img src=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAjCAYAAAAe2bNZAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDYuMC1jMDA2IDc5LjE2NDY0OCwgMjAyMS8wMS8xMi0xNTo1MjoyOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6N0RGNEE2MDk3NUEwMTFFQjkzMUFBQkFCMEFFNTg0MzgiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6N0RGNEE2MDg3NUEwMTFFQjkzMUFBQkFCMEFFNTg0MzgiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjFDQjBCRkQwQzIyNDExRTg5Qzg3OTVFRUUwODI2NkJBIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjFDQjBCRkQxQzIyNDExRTg5Qzg3OTVFRUUwODI2NkJBIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+GLY+KgAAAe5JREFUeNrs1k1IVFEYxvExJMFFVmgLxYSwFqGi5MYQXISVhEZlrVxogkGgbQRx48KVs4ukCNE+VCpUqF0R1iqEyg+EcRMiEQZuTCeiSPz6H3guHC5zxtnoDMw98GPOvfe9+px3zr2aEQ6HQ6kyDoVSaARhgjBBmCBMWocZk2pH/VNM4/pBhLkpJx31h3EOE7iQ7K/pDf4gA20HFeYMRjGLARTq/DieaJ7vu+cGXuAt+mJ019Q/xLwWdVdb4plXkOkI06PVm1GByyhFFH9j1JuALdaxqb+DS/iCY5hCka6X4arm0b06s4VhfNax6cwtR+0VK8hrdGEFRzGk861WkPfoxar/B7k68wj3kIVl5KLcUVurz5/a/FsK8xwlKFAnzFhDPTbwA4OJ7Jkj+szWE2TGjqP2v1WbrXmedc8/616zuBzNTyTamWZt4kIr2FdH7St0al/MIKLVmzGJX1iwAns1FxN9mkw7z/ueolFH7RzasYnTuKZFml94WzWPFcLbf3XqWNzOeN//N9TgFD7ho9Vqsyk/YN23x96hQR2KaDNv6vpvLa4RZ3W9Ch3xwkxa8xFHJxbFP5ZwP847bUPvoWJUoknnvyfzD6V5zF/iuI7799rA+z221ZEH1rsoKWG6JfjnKggThAnCpHeYXQEGACmhYUqpLPafAAAAAElFTkSuQmCC></a><li><a href=https://www.youtube.com/user/supremainc target=_blank rel="noopener noreferrer"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAjCAYAAAAe2bNZAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoyQzBFRTY4NUMyMjQxMUU4QTQyRkRDRTk1NDQ4RjFGOCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDoyQzBFRTY4NkMyMjQxMUU4QTQyRkRDRTk1NDQ4RjFGOCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjJDMEVFNjgzQzIyNDExRThBNDJGRENFOTU0NDhGMUY4IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjJDMEVFNjg0QzIyNDExRThBNDJGRENFOTU0NDhGMUY4Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+pP+52gAAASRJREFUeNpi/P//P8NgAUwMgwiMOmbUMaOOGXUMrQELIQVdXV2MQKoYiIOBWAyIOYCYE4j5sXjmHxB/BOLvQPwDiF8C8Tog7i0rK/tPsWOAIAWIu0kIaUEoBgElILaEOnA2NaIpnAoxEEatNKOEQ/weED8n0jHK1HKMEA7x60CsBQ3+/2SaQbJjuPDIfQDiNCC2B+KbeNRxU8sxrESoOQzE+qDMR0FGIU4REQCU3VOBOJqm5QwQ/MYTOqDyJh2IS4FYioAZVHHMN2gBhw70gPg+EIsTaQZVHPMOh2NkSYiBt9RKwLepkKbuUMsxq6ngmNXUiqa50AQMqigl0CpJ9MoSlDZ+QivJT9CKcg3UDIKAcbTfNOqYUceMOmbUMaOOYWAACDAAe9Ew/dLdOIYAAAAASUVORK5CYII="></a><li><a href=https://www.instagram.com/official.suprema/ target=_blank rel="noopener noreferrer"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAjCAYAAAAe2bNZAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAKOSURBVHgB7VbLceJAEB0+BQUXE4I2A28EKyKAjQCIYM2FghPSid8BNgIgAxzBighMBqsQ5BMU333PO+MaU+hr++LSqxr1aKbV86anuzVCpEiR4gsiE0d5MBgYEGY2m62cz+eKnx7mvdPp5GYymU2v13PFR5IhCRieo5kiJi6Xi4PWikIqlAyJ5HK5JxikJ9ZoK3jF4xw9oPry/dVj7EPU0X6gUe97GKG8CAGIzEkExmwYs0Q8zEajkQXZp2chq0HKgZ6hV7DDvyCyBhFTRITyJr7bdLvd6ng8/oMNmXj/FuSdQM+AyD0lDK18FjUh6tj1HXSe0V9hMQfSoDcxbsjvHyFM2RYiCRka5QNGPX3QsqxKuVyeYpGmGoMOxS8cy2y73dqlUuknxlwOMq6wMSHjTiQiw2CkEQaqPl4sFmcw3EB3g2ZzUaTyPfT6eH8A0Uqn02ld24NecjIaqVcyPBosSiIuPFCFl9TcZjqdrg6HA+OjCb2lPDLCjbJOVsQEdleXBG2NyAva7bYHIrauFwexyahzZ6bcmj8ej67s3onPJqOCOZ/PGzcNygwEnkVMJPGMSvM+s0qf47sMYt9yEIRIASxkihMMSqTvEt0G0vcJgWrzyFhTUOhIhDXmtxa86tfwPjLXKa1QKBQe9vs9uw3ozJn+Gpa73c7SB1SJAElPJCXjV6yYNRBM3wWzRlZbZtJK94i2qZfv4TlXJCUDONJYDWJ2PSkXdkJsMOhrIOqbgQqBAcyfGgw5vMcgTvoiASaTSV/+JNfvvkKgzLfkfcYaDocmiD3qFVm8ra6G6vBo8E0NuqYsB00Rgsg3PRhfiP8XpbhYg1DzQ256N0ixqBlhd2DpPSfOHThFihRfEv8AgtdZ9bpVTAkAAAAASUVORK5CYII=" width=35px></a></ul></div></ul><div class=dropdown><div><button class=dropdown-button>FAMILY SITE <!-- -->+</button></div></div></div></div><div class="container text--left"><div class=footer__copyright>Copyright © Suprema Inc. All rights reserved. | 주식회사 슈프리마 사업자 등록번호 431-87-00369</div></div></footer></div>