---
id: check-ethernet
title: ネットワーク優先順位を確認する
description: BioStar X をインストールする前に、サーバーのネットワーク優先順位を確認して設定する方法を案内します。
keywords:
  - ネットワーク
  - BioStar X
---

**BioStar X** をインストールする前に、サーバーのネットワーク優先順位を確認して設定する方法を案内します。

## 必要なタイミング？

次のような場合にネットワーク優先順位の確認と設定が必要です。

* サーバーに 2 つ以上のネットワークアダプター (LAN カード) が搭載されている場合

* **BioStar X** サービスで特定のネットワークアダプターを使用する必要がある場合

* **BioStar X** のインストール後にネットワーク接続問題が発生しないように事前に防止したい場合

:::info

上記に該当しない場合、ネットワーク優先順位を変更する必要はありません。 この手順をスキップし、**BioStar X** をインストールする。 **BioStar X** のインストールの詳細は [次のドキュメント](express-install) を参照する。

:::

:::warning

**BioStar X** のインストール時、メトリック値が低い (優先順位が高い) ネットワークアダプターが自動的に選択されます。 インストール後にこの設定を変更することは困難なため、**インストール前に必ずネットワーク優先順位を確認して調整**する必要があります。

:::

## ネットワーク優先順位を確認する

### コマンドプロンプトで確認

1. **スタート** メニューで `cmd` を検索し、**コマンドプロンプト** を起動する。

2. 次のコマンドを入力する。

   ```cmd
   route print
   ```

3. 出力結果の **IPv4 Route Table** セクションで **Network Destination** が `0.0.0.0` の項目を探す。

4. **Metric** 列の値を確認する。 **値が低いほど優先順位が高くなります**。

**出力例：**

<Image src='/img/common/biostarx-install-check-network-cmd.png' alone />

上記の例では、`192.168.40.123` インターフェースがメトリック値 **20** でより高い優先順位を持ちます。

### ネットワークアダプター情報を確認

各インターフェースがどのネットワークアダプターに対応しているかを確認する。

1. **コマンドプロンプト** で次のコマンドを入力する。

   ```cmd
   ipconfig /all
   ```

2. 各ネットワークアダプターの **IPv4 アドレス** と先ほど確認した **Gateway** アドレスを照合し、どのアダプターかを特定する。

## ネットワーク優先順位を変更する

目的のネットワークアダプターの優先順位を上げるには次の手順を実行する。

:::info

以下の手順は Windows 11 を基準としています。 使用している Windows バージョンによってメニューの位置が異なる場合があります。

:::

<Steps>
<Step>

### ネットワーク設定を開く

1. **スタート** メニューで **ネットワーク接続の表示** と入力する。

   <Image src='/img/biostarx-install-check-start-network-search.png' />

2. 検索結果で **ネットワーク接続の表示** をクリックする。

3. 一覧からインターネットに接続されているアダプターをダブルクリックする。

   <Image src='/img/biostarx-install-check-control-network-connections.png' />

</Step>
<Step>

### アダプターオプションを開く

1. **イーサネットの状態** ウィンドウが表示されたら **プロパティ** をクリックする。

   <Image src='/img/biostarx-install-check-ethernet-status.png' />

2. イーサネットのプロパティが表示されたら、一覧から <b>インターネット プロトコル バージョン 4 (TCP/IPv4)</b> を選択する。

   <Image src='/img/biostarx-install-check-ethernet-properties.png' />

3. **プロパティ** をクリックする。

4. **インターネット プロトコル バージョン 4 (TCP/IPv4) のプロパティ** が表示されたら **詳細設定** をクリックする。

   <Image src='/img/biostarx-install-check-protocol-properties.png' />

</Step>
<Step>

### メトリックを設定

1. **自動メトリック** のチェックを **外す**。

   <Image src='/img/biostarx-install-check-set-metrics.png' />

2. **インターフェイスメトリック** フィールドに希望する値を入力する。

   * 最高の優先順位にする場合は `1` を入力する。

   * 他のアダプターより高い優先順位にしたい場合、そのアダプターのメトリック値より小さい数値を入力する。

3. 設定を保存してすべてのウィンドウを閉じるには **OK** をクリックする。

:::info

**インターフェイスメトリック** に入力できる値は `1` から `9999` まで。 値が低いほど優先順位が高くなります。

:::

</Step>
<Step>

### 設定を確認

1. **コマンドプロンプト** を再度開き、`route print` コマンドを実行する。

2. メトリック値が変更されたか確認する。

</Step>
</Steps>

## トラブルシューティング

* 設定が反映されない場合は、コンピューターを再起動するか、ネットワークアダプターを無効にしてから再度有効にする。

* ネットワーク接続が切れた場合は元の設定に戻し、**自動メトリック** オプションを再度有効にする。 ネットワーク管理者に問い合わせて正しい設定値を確認する。

:::info

**BioStar X** のインストール後にネットワーク設定を変更する必要がある場合は、プログラムを完全に削除してから再インストールすることを推奨します。

:::

<NextStep>
<NextItem to='express-install'>

初めてインストールするユーザー向けの簡易インストール手順を案内します。

</NextItem>
<NextItem to='custom-install'>

既にインストール済みのデータベースと連携するためのカスタムインストール手順を案内します。

</NextItem>
</NextStep>
