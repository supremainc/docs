---
id: export-import-user-info
title: ユーザー情報のエクスポート/インポート
description: ユーザー情報をエクスポートまたはインポートして、旧バージョンや別のサーバーのユーザー情報を利用します。
keywords:
  - ユーザー情報
  - エクスポート
  - インポート
---

ユーザー情報をエクスポートまたはインポートして、旧バージョンや別のサーバーのユーザー情報を利用します。

## CSV エクスポート／インポート {#csvexportimport}

選択したユーザー情報をCSVファイルに保存するか、保存済みのCSVファイルを読み込みます。 CSVファイルを使用して簡単にユーザー情報を移行します。

:::info

* **BioStar X** に追加していないカスタムユーザーフィールドがある場合、CSVファイルを正しくインポートできません。 カスタムユーザーフィールドの追加方法は[次のドキュメント](settings-server-server#custom-field)を参照します。

* 英語と韓国語以外の言語でユーザー情報を入力した場合は、CSVファイルをUTF-8で保存します。

:::

### CSV エクスポート {#csvexport}

1. <Cmd sid='shell.header.launcher' /> ページで <Cmd sid='shell.header.user' /> をクリックします。

2. ユーザーリストでCSVファイルに保存するユーザーのチェックボックスをクリックします。 1 人以上のユーザーを選択できます。

3. 画面右上の <IcMoreW /> をクリックし、<Cmd sid='team.menu.export.title' /> → <Cmd sid='team.menu.export.csv' /> を選択します。

   <Image src='/img/biostarx-user-export-csv.png' />

4. <Cmd sid='team.menu.export.csv' /> <Cmd sid='team.menu.export.title' /> ウィンドウが表示されたら <Cmd sid='common.button.download' /> をクリックします。

5. ローカルの任意のパスにCSVファイルを保存します。

### CSV インポート {#csvimport}

1. <Cmd sid='shell.header.launcher' /> ページで <Cmd sid='shell.header.user' /> をクリックします。

2. 画面右上の<IcMoreW /> ボタンをクリックし、<Cmd sid='team.menu.import.title' /> → <Cmd sid='team.menu.import.csv' /> を選択します。

3. ローカルに保存したCSVファイルを選択します。

4. <Cmd sid='team.menu.export.csv' /> <Cmd sid='team.menu.import.title' /> ウィンドウで <Cmd sid='user.list.csvImport.importStartRow' /> を設定し、<Cmd sid='common.button.next' /> をクリックします。

   <Image src='/img/biostarx-user-import-01.png' />

5. CSVファイルのユーザーデータフィールドと **BioStar X** のユーザーデータフィールドが自動でマッピングされて表示されます。 <Cmd sid='user.list.csvImport.reMapping' product='2' /> をクリックすると、名前が同じフィールドが再マッピングされます。

   <Image src='/img/biostarx-user-import-02.png' width='50%' />

6. **BioStar X** にすでにユーザーIDが登録されているユーザーデータを保持するか、CSVファイルの情報で上書きするかを選択し、<Cmd sid='common.apply' /> をクリックします。

   <Image src='/img/biostarx-user-import-03.png' />

CSVファイルの情報をインポート中にエラーが発生した場合は、エラーとなったCSVデータのみを再確認してアップロードします。

:::info

* CSVインポートでモバイルアクセスカードを発行します。 レギュラーサイトを使用する場合、インポート完了後にAirfob Portalでモバイルアクセスカード1枚につき1クレジットが差し引かれます。 モバイルアクセスカードを発行しない場合は、マッピングを解除します。

* CSVファイルに **BioStar X** に登録済みのユーザーに発行したモバイルアクセスカードと同一のデータが存在する場合は、データを保持するか上書きし、既存のモバイルアクセスカードを維持します。

* CSVファイルに **BioStar X** に登録済みのユーザーに発行したモバイルアクセスカードと異なるデータが存在する場合、データを保持すると既存のモバイルアクセスカードが維持され、上書きするとそのユーザーに新しいモバイルアクセスカードが発行されます。

* CSVインポートでモバイルアクセスカードを発行する際にダイナミックサイトを使用する場合は、`mobile_start_datetime` と `mobile_expiry_datetime` フィールドに必ず値を入力します。

* **BioStar X** QR はCSVインポートでは発行できません。

* CSVインポートでユーザーの顔を登録します。 詳細は[次のドキュメント](batch-import-face#import-csv)を参照します。

* CSVインポートでユーザーのPINを登録します。 詳細は[次のドキュメント](enroll-credential-pin)を参照します。

* 保存済みのCSVファイルに一致しない列を追加すると、**BioStar X** でファイルをインポートできません。

:::

## データファイル エクスポート／インポート {#exportimportdatafile}

外部ストレージ(USB)にユーザー情報を保存し、**BioStar X** またはデバイスでインポートします。 最大500,000人のユーザー情報をサーバーからデバイスへ、またはデバイス間で移行します。

:::info

* 古いファームウェアバージョンを使用するデバイスからエクスポートしたデータは **BioStar X** にインポートできません。 常に最新バージョンのファームウェアを使用してください。

* 異なる指紋テンプレート形式を使用する場合、データをインポートできません。 例えば、Suprema指紋テンプレート形式を使用するデバイスからエクスポートしたデータは、ISO指紋テンプレート形式を使用するデバイスではインポートできません。

* ユーザーデータを取り込む際、**BioStar X** サーバーに登録されている指紋および顔クレデンシャルがすでに存在する場合、既存のデータは上書きされます。

* 古いファームウェアバージョンを使用するデバイスのデータはインポートできません。 デバイスのファームウェアを互換バージョンにアップグレードします。 

  <details>
  <summary>対応デバイスとファームウェアバージョンを表示</summary>

  * BioStation 2 ファームウェア 1.9.0 以上

  * BioStation A2 ファームウェア 1.8.0 以上

  * FaceStation 2 ファームウェア 1.4.0 以上

  * FaceStation F2 ファームウェア 2.2.0 以上

  * X-Station 2 ファームウェア 1.0.0 以上

  * BioStation 3 ファームウェア 1.3.1 以上

  * BioStation 2a ファームウェア 1.0.0 以上

  </details>

:::

### データエクスポート {#exportdata}

1. <Cmd sid='shell.header.launcher' /> ページで <Cmd sid='shell.header.user' /> をクリックします。

2. ユーザーリストでエクスポートするユーザーのチェックボックスをクリックします。 1 人以上のユーザーを選択できます。

3. 画面右上の <IcMoreW /> をクリックし、<Cmd sid='team.menu.export.title' /> → <Cmd sid='team.menu.export.dataFile' /> を選択します。

   <Image src='/img/biostarx-user-export-data.png' />

4. <Cmd sid='team.menu.dialog.exprotDataFile.title' /> ウィンドウでデータファイルを適用するデバイスを選択し、<Cmd sid='common.apply' /> ボタンをクリックします。

   <Image src='/img/biostarx-user-export-data-select-device.png' />

5. ローカルの任意のパスにデータファイルを保存します。 ファイル名は `BioStarX_YYYYMMDD_HHMMSS.tgz` 形式です。

:::info

* データファイルのエクスポートでは、ユーザー情報のうちプロフィール写真、ID、名前、有効期間、入退グループ、PIN、個人認証モード、クレデンシャル（顔、指紋、カード、モバイルカード、顔、QR/Barcode）、1:1セキュリティ等級情報をファイルとして保存します。

* データファイルを適用するデバイスを正しく選択しないと、そのデバイスではデータファイルを認識できません。

:::

:::caution

**BioStar X** からエクスポートしたファイルをデバイスにインポートするには、現在のデバイスが認識できるようにファイル名を以下のとおり変更する必要があります。 ファイル名の形式は、今後のデバイスファームウェアのアップデートにより自動認識されるよう調整される予定です。

*<b>BioStarX</b>_YYYYMMDD_HHMMSS.tgz* → *<b>BioStar2</b>_YYYYMMDD_HHMMSS.tgz*

:::

### データインポート {#importdata}

1. <Cmd sid='shell.header.launcher' /> ページで <Cmd sid='shell.header.user' /> をクリックします。

2. 画面右上の <IcMoreW /> をクリックし、<Cmd sid='team.menu.import.title' /> → <Cmd sid='team.menu.import.dataFile' /> を選択します。

   <Image src='/img/biostarx-user-import-data.png' />

3. ローカルに保存されているデータファイル（*.tgz*）を選択します。

データファイルのインポートに成功すると、画面にメッセージが表示されます。
