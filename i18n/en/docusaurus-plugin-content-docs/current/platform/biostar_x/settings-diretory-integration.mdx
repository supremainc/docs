---
id: settings-diretory-integration
title: Directory Integration Settings
description: This document provides guidance on synchronizing and managing users by integrating Microsoft Entra ID or Active Directory with BioStar 2.
---

import UserGroupFilter from '../../common/_usergroupfilter.mdx';
import UserCustomField from '../../common/_usercustomfield.mdx';
import SyncIntegration from '../../common/_sync-with-integ.mdx';

This document provides guidance on how to synchronize and manage users by integrating **Microsoft Entra ID** (hereafter **Entra ID**) or **Active Directory** with BioStar 2. 

Integrating with **Entra ID** or **Active Directory** provides the following convenient features, enhancing both security and usability. This enhances both security and convenience.

* You can log in to BioStar 2 using your **Entra ID** account via Single Sign-On (SSO) provided by **Entra ID**.

* You can log in to BioStar 2 using Lightweight Directory Access Protocol (LDAP) authentication provided by **Active Directory**.

* Users and groups configured in **Entra ID** or **Active Directory** can be synchronized with BioStar 2.

* User information such as title, department, and group used in **Entra ID** or **Active Directory** can be mapped to custom fields in BioStar 2.

:::info

The **Entra ID** or **Active Directory** integration setting is available when the **Advance** license is activated. For more information on the license policy, refer to [this document](licensing).

:::

## Integrate with Entra ID {#intergrate-with-entraid}

1. Log in to BioStar 2 with an administrator account.

2. Click <Cmd sid='shell.header.setting' /> on the <Cmd sid='shell.header.launcher' /> page.

3. Click <Cmd sid='setting.activeDirectory.menu' product='2' /> on the left sidebar.

4. Select <Cmd sid='settings.activeDirectory.AdServerNew' product='2' /> in <Cmd sid='settings.activeDirectory.title' product='2' />.

   <Image src='/img/biostar2-setting-directory-integ-entraid.png' />

5. Set each item as instructed below.

<Steps>
<Step>

### <Cmd sid='settings.activeDirectory.ADServerConfiguration' product='2' /> {#EntraidServer}

Enter the server information for **Entra ID** and click <Cmd sid='settings.activeDirectory.Connect' product='2' /> in <Cmd sid='settings.activeDirectory.ADServerConfiguration' product='2' />.

<Image src='/img/biostar2-setting-directory-server.png' />

* <Cmd sid='settings.activeDirectory.ClientID' product='2' />: Enter the **Client ID** of the application registered in **Entra ID**.

* <Cmd sid='settings.activeDirectory.ClientSecret' product='2' />: Enter the **Client secret** added in **Certificates & secrets** of the application registered in **Entra ID**.

* <Cmd sid='settings.activeDirectory.PrimaryDomain' product='2' />: Enter the **Directory (Tenant) ID** of the application registered in **Entra ID**.

:::info

* For more information on registering an application in **Entra ID**, refer to the [following link](https://learn.microsoft.com/entra/identity-platform/quickstart-register-app).

* For more information on configuring **Certificates & secrets** in **Entra ID**, refer to the [following link](https://learn.microsoft.com/entra/identity-platform/how-to-add-credentials?tabs=client-secret).

* **Tenant ID** can be found in the **Overview** of the registered application in **Entra ID**.

:::

</Step>

<Step>

<UserGroupFilter hashid='usergroupfilterEntraid' name='Entra ID' />

</Step>

<Step>

<UserCustomField hashid='userfieldEntraid' name='Entra ID' img01='biostar2-setting-directory-userfield.png' img02='biostar2-setting-directory-userfield-select-other.png' sid='settings.activeDirectory.FieldNameEI' />

:::caution

The <Cmd sid='common.userId' product='2' /> field cannot be mapped when integrating with **Entra ID**. It is automatically generated and applied by BioStar 2.

:::

</Step>

<Step>

### <Cmd sid='settings.activeDirectory.LogintitleEI' product='2' /> {#setssoEntraid}

Change the <Cmd sid='settings.activeDirectory.LogintitleEI' product='2' /> to <Cmd sid='device.info.enabled' product='2' /> to enable login to  BioStar 2 using **Entra ID SSO**.

<Image src='/img/biostar2-setting-directory-login-with-entraid.png' />

Copy the redirection URI from the <Cmd sid='settings.activeDirectory.RedirectionUri' product='2' /> field(<IcCopy2 />) and paste it into the SSO redirection settings in the **Entra ID** portal. When a user successfully logs in with **Entra ID**, they will be redirected to this address.

:::info

* For more information on registering an application in **Entra ID** and adding a redirection URI, refer to the following links.

  * [Register an application in Microsoft Entra ID](https://learn.microsoft.com/entra/identity-platform/quickstart-register-app)

  * [How to add a redirect URI to your application](https://learn.microsoft.com/entra/identity-platform/how-to-add-redirect-uri)

* The redirection address can be found in the **Overview** of the registered application in **Entra ID**.

:::

</Step>

<Step>

<SyncIntegration hashid='syncdatafromEntraid' name='Entra ID' />

</Step>

</Steps>

:::note

After completing all settings in <Cmd sid='setting.activeDirectory.menu' product='2' />, click <Cmd sid='button.apply' product='2' /> at the bottom of the screen to save. Refer to the [following](#checksettings) to check the results.

<Image src='/img/biostar2-setting-directory-btn-apply.png' />

:::

## Integrate with Active Directory {#integrate-with-active-directory}

1. Log in to BioStar 2 with an administrator account.

2. Click <Cmd sid='shell.header.setting' /> on the <Cmd sid='shell.header.launcher' /> page.

3. Click <Cmd sid='setting.activeDirectory.menu' product='2' /> on the left sidebar.

4. Select <Cmd sid='settings.activeDirectory.AdServerOld' product='2' /> in <Cmd sid='settings.activeDirectory.title' product='2' />.

   <Image src='/img/biostar2-setting-directory-integ-ad.png' />

5. Set each item as instructed below.

:::info

* The Active Directory is available for a system environment with Windows Server 2008 R2 or
  later.

* To use the Active Directory server, set the <Cmd sid='setting.userDevice.useridType' product='2' /> to <Cmd sid='setting.userDevice.useridType.alphanumeric' product='2' /> in the <Cmd sid='common.setting' product='2' /> → <Cmd sid='setting.server' product='2' />.

:::

<Steps>

<Step>

### <Cmd sid='settings.activeDirectory.ADServerConfiguration' product='2' /> {#ADserver}

Enter the server information for **Active Directory** and click <Cmd sid='settings.activeDirectory.Connect' product='2' /> in <Cmd sid='settings.activeDirectory.ADServerConfiguration' product='2' />.

<Image src='/img/biostar2-setting-directory-ad-server.png' />

* <Cmd sid='settings.activeDirectory.ServerAddress' product='2' />: Enter the server address for Windows Active Directory.

* <Cmd sid='settings.activeDirectory.UserName' product='2' />: Enter the user name used by Windows Active Directory.

* <Cmd sid='settings.activeDirectory.Password' product='2' />: Enter the password used by Windows Active Directory.

* <Cmd sid='settings.activeDirectory.DomainNode' product='2' />: Enter the base domain name for Windows Active Directory. You can find the base domain name in the following steps:

  1. Run the **Active Directory Administrative Center**.

  2. Right-click on the node where user data is stored, and then click **Property**.

  3. In the **property** window, select **Expand** and then click **Attribute Editor**.

  4. View the value of **distinguishedName**.

* <Cmd sid='settings.activeDirectory.secureTransfer' product='2' />: You can use encryption when communicating with the Windows Active Directory server. To install the Active Directory Certificate Services and configure the <Cmd sid='settings.activeDirectory.keystorePassword' product='2' />, refer to the [following](ad-encrypt).

  * <Cmd sid='settings.activeDirectory.keystorePassword' product='2' />: Enter the password for the encryption key store of the Windows Active Directory server. You can enter the password when the <Cmd sid='settings.activeDirectory.secureTransfer' product='2' /> is set to <Cmd sid='device.info.enabled' product='2' />.

</Step>

<Step>

<UserGroupFilter hashid='usergroupfilterAD' name='Active Directory' />

</Step>

<Step>

<UserCustomField hashid='userfieldAD' name='Active Directory' img01='biostar2-setting-directory-userfield-ad.png' img02='biostar2-setting-directory-userfield-select-other-ad.png' sid='settings.activeDirectory.FieldNameAD' />

</Step>

<Step>

### <Cmd sid='settings.activeDirectory.LogintitleAD' product='2' /> {#setssoAD}

To configure login to BioStar 2 using the user ID of the Active Directory server, change the <Cmd sid='settings.activeDirectory.LogintitleAD' product='2' /> to <Cmd sid='device.info.enabled' product='2' />. The value of the `sAMAccountName` field from the Active Directory server will be mapped to the BioStar 2 login ID.

<Image src='/img/biostar2-setting-directory-login-with-ad.png' />

</Step>

<Step>

<SyncIntegration hashid='syncdatafromAd' name='Active Directory' />

</Step>

</Steps>

:::note

After completing all settings in <Cmd sid='setting.activeDirectory.menu' product='2' />, click <Cmd sid='button.apply' product='2' /> at the bottom of the screen to save. Refer to the [following](#checksettings) to check the results.

<Image src='/img/biostar2-setting-directory-btn-apply.png' />

:::

## Check the settings results {#checksettings}

After completing the integration settings with **Entra ID** or **Active Directory**, click <Cmd sid='button.apply' product='2' /> at the bottom of the screen. Refer to the following to check the synchronized settings.

* You can check the synchronized user list in the <Cmd sid='common.user' product='2' /> menu.

* After completing the login settings with **Entra ID** or **Active Directory**, you can see <Cmd sid='login.entraidLoginBtn' product='2' /> when logging in to BioStar 2.

  <Image src='/img/biostar2-setting-directory-entraid-login.png' />

## Exclude the directory integration {#exclude-integration}

When integrating with **Entra ID** or **Active Directory** through the <Cmd sid='setting.activeDirectory.menu' product='2' /> feature, users that do not exist in the directory service may be deleted from BioStar 2. If there are users that you do not want to be deleted, you can exclude them from the integration using the following method.

1. Log in to BioStar 2 with an administrator account.

2. Go to the <Cmd sid='common.user' product='2' /> menu.

3. Click on the user you want to exclude from the integration in the <Cmd sid='menu.user.allUserGroups' product='2' /> list.

4. When the detail information screen of the selected user appears, click the checkbox of <Cmd sid='user.adsync.exclude' product='2' /> in <Cmd sid='common.advanced' product='2' />.

   <Image src='/img/biostar2-user-advance-exclude-sync.png' />

5. Click the <Cmd sid='button.apply' product='2' /> button.

The selected user will be excluded from the integration when using the <Cmd sid='setting.activeDirectory.menu' product='2' /> feature.

## Disable the directory integration {#disableIntegration}

To disable the <Cmd sid='settings.activeDirectory.title' product='2' /> feature, follow the steps:

1. Log in to BioStar 2 with an administrator account.

2. Click <Cmd sid='common.setting' product='2' /> → <Cmd sid='setting.activeDirectory.menu' product='2' />.

3. Select <Cmd sid='settings.activeDirectory.notUse' product='2' /> in <Cmd sid='settings.activeDirectory.title' product='2' />.

   <Image src='/img/biostar2-setting-directory-unset.png' />

4. When the <Cmd sid='alert.warning' product='2' /> message appears, click <Cmd sid='button.continue' product='2' />.

   <Image src='/img/biostar2-setting-directory-unset-warn-message.png' />

5. Click <Cmd sid='button.apply' product='2' /> at the bottom of the screen.

:::caution

When the <Cmd sid='settings.activeDirectory.title' product='2' /> is set to <Cmd sid='settings.activeDirectory.notUse' product='2' />, all integration settings with **Entra ID** or **Active Directory** in BioStar 2 will be removed. The integrated user and group information will not be deleted, but will no longer be synchronized. Please make sure to check before disabling the integration.

:::
