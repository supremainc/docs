---
id: settings-video-integration
title: VMS 연동하기
description: BioStar X에서 실시간 영상 모니터링 및 녹화 영상 재생을 위한 Video Management System(VMS) 연동 방법을 안내합니다.
keywords: [비디오, 연동, 카메라, 설정]
---

**Video Management System**(VMS)는 여러 카메라의 영상을 통합 관리하고 녹화, 재생할 수 있는 영상 관리 시스템입니다. BioStar X와 VMS를 연동하면 출입 통제와 영상 보안을 하나의 플랫폼에서 통합 관리할 수 있습니다.

VMS 연동을 통해 다음과 같은 혜택을 얻을 수 있습니다.

* **실시간 모니터링**: 출입문과 연결된 카메라의 실시간 영상 확인할 수 있습니다.

* **통합 이벤트 관리**: 출입 이벤트와 영상을 연계하여 보안 상황 파악할 수 있습니다.

* **효율적인 증거 수집**: 특정 시점의 녹화 영상을 빠르게 검색 및 재생할 수 있습니다.

* **북마크 기능**: 중요한 이벤트 시점에 영상 태그를 추가하여 쉽게 찾고 검토할 수 있습니다.


## 시작하기 전에

**Video Management System**(VMS)과 연동하려면 다음 사항을 확인하세요.

* VMS 연동 기능은 **어드밴스**(Advanced) 라이선스 이상에서 추가 옵션을 통해 사용할 수 있습니다. 라이선스 정책에 대한 자세한 내용은 [다음 문서](licensing#features-add-ons)를 참고하세요.

* VMS 서버가 올바르게 설치되고 구성되었는지 확인하세요. VMS 서버는 **BioStar X**와 온라인으로 연결 가능한 상태여야 합니다.

* **BioStar X**와 호환되는 VMS를 사용하세요. **BioStar X VMS** 또는 **Nx Witness v5.1.5** 계열의 VMS를 사용할 수 있습니다.

* VMS 서버의 IP 주소, 포트 번호, 관리자 계정 정보를 준비하세요. 이 정보는 **BioStar X**에서 VMS 서버에 연결하는 데 필요합니다.


## VMS 서버 연동 설정

VMS 서버와 **BioStar X**를 연동하려면 다음 단계를 따르세요.

<Steps>
<Step>

### VMS 서버에서 인증서 설치 {#install-vms-certification}

VMS 서버의 녹화된 영상을 재생하려면 HTTPS 프로토콜을 사용해야 합니다. VMS 서버에서 IP 주소 기반의 인증서를 생성하세요.

:::note

* 인증서를 설치하기 전에 VMS를 설치한 PC에 Open JDK 21 이상이 설치되어 있는지 확인하세요.

* VMS 서버와 **BioStar X**를 같은 서버에 설치할 때는 인증서를 설치해야 합니다.

:::

1. *C:\Program Files\BioStar X\third* 경로로 이동해 명령 프롬프트를 실행하세요.

1. 다음 명령어를 실행하세요. 

    <Tabs groupId='os' defaultValue='Windows'>
    <TabItem value="Windows">
    ```java
    java -jar scaleUtil-1.0-all.jar vmsCertCreate "C:\Windows\System32\config\systemprofile\AppData\Local\<%VENDOR.NAME%>\<%VENDOR.NAME%> Media Server\ssl" {VMS_IP_ADDRESS}
    ```
    </TabItem>
    <TabItem value="Linux">
    ```java
    java -jar scaleUtil-1.0-all.jar vmsCertCreate "/opt/<%VENDOR.NAME%>/mediaserver/var/ssl" {VMS_IP_ADDRESS}
    ```
    </TabItem>
    </Tabs>

    - `<%VENDOR.NAME%>` 부분에 VMS를 설치한 경로를 입력하세요.
    
    - `{VMS_IP_ADDRESS}` 부분에 VMS 서버의 IP 주소를 입력하세요.

    - 설치한 VMS 제품에 따라 *ssl* 경로가 다를 수 있습니다.

1. VMS를 설치한 경로에서 인증서 파일(*\*.pem*)이 생성되었는지 확인하세요.

1. VMS 서버를 재부팅하세요.

:::info

VMS가 **BioStar X**와 서로 다른 서버에 설치되어 있다면 *scaleUtil-1.0-all.jar* 파일을 VMS 서버로 복사하고 위 과정을 진행하세요.

:::

</Step>
<Step>

### VMS 연동 활성화

1. <Cmd sid='shell.header.launcher' /> 페이지에서 <Cmd sid='shell.header.setting' />을 클릭하세요.

1. 화면 왼쪽 사이드바에서 <Cmd sid='setting.menu.video.root' /> → <Cmd sid='setting.menu.video.vmsIntegration' />을 클릭하세요.

1. 처음 접속한다면 **BioStar X** 관리자 계정으로 로그인해야 합니다.

    <Image src='/img/biostarx-settings-video-integration-login.png' />

1. <Cmd sid='video.setting.integration.title' product='2' /> 옵션을 <Cmd sid='common.use' product='2' />으로 설정하세요.

    <Image src='/img/biostarx-settings-video-integration.png' />

1. VMS 서버 정보를 입력하세요.

    * <Cmd sid='video.setting.integration.serverAddress' product='2' />: VMS 서버의 IP 주소를 입력하세요.

    * <Cmd sid='video.setting.integration.port' product='2' />: VMS 서버의 포트 번호를 입력하세요.

    * <Cmd sid='video.setting.integration.loginId' product='2' />: VMS 서버의 관리자 계정 아이디를 입력하세요.

    * <Cmd sid='video.setting.integration.password' product='2' />: VMS 서버의 관리자 계정 비밀번호를 입력하세요.

1. VMS 서버 정보를 모두 입력했으면 화면 오른쪽 하단의 <Cmd sid='button.apply' product='2' /> 버튼을 클릭하세요.

:::info

* VMS 서버와 연동에 실패해 오류 메시지가 나타나면 서버 주소 및 관리자 계정 정보 등을 다시 확인하세요. VMS 서버가 온라인 상태인지, 방화벽 설정으로 인해 네트워크 연결이 차단되지 않았는지 점검하는 것도 필요합니다.

* <Cmd sid='video.setting.tag.title' product='2' /> 섹션의 설정에 대한 자세한 내용은 [다음 문서](#vms-event-bookmark)를 참고하세요.

:::

</Step>
<Step>

### 서비스 재시작

VMS 서버 정보를 동기화하려면 **BioStar X**의 일부 서비스를 재시작해야 합니다.

1. Windows에서 <Start/> → **BioStar X** → **BioStar X Service Manager**를 클릭하세요.

1. **All Services** 목록에서 아래 서비스의 **Stop** 버튼을 클릭해 서비스를 중지하세요.

    <Image src='/img/common/biostarx-sm-restart-service-video.png' alone />

    * **BioStar X Unified Gateway Service**

    * **BioStar X Core Web Service**

1. 중지 요청한 서비스의 상태가 **Pending**에서 **Stopped**로 변경되면 **Start** 버튼을 클릭해 서비스를 재시작하세요.

    <Image src='/img/common/biostarx-sm-restart-service-video-start.png' alone />

</Step>
<Step>

### 카메라 확인 및 설정

VMS 서버와 정상 연동되었다면 <Cmd sid='setting.menu.video.root' /> → <Cmd sid='setting.menu.video.video' /> 메뉴에서 연결된 카메라를 확인할 수 있습니다. 자세한 내용은 [다음 문서](settings-videos-camera)를 참조하세요.

</Step>
</Steps>


### 문제 해결 {#video-troubleshooting}

아래와 같은 상황이 발생한다면 VMS 서버에 설치된 인증서를 클라이언트 PC에 설치해 문제를 해결할 수 있습니다.

* **Video Management System**(VMS)을 브라우저를 통해서 접속했을 때 '안전하지 않음' 경고가 표시될 때

* <Cmd sid='shell.header.arena' /> 페이지에서 실시간 영상은 재생되나 녹화 영상이 재생되지 않을 때


#### 클라이언트 PC에서 인증서 설치

1. **BioStar X**를 설치한 클라이언트 PC에서 로그인 화면 또는 <Cmd sid='shell.header.setting' /> → <Cmd sid='setting.menu.server.root' /> → <Cmd sid="setting.https.https" product='2' />에서 HTTPS 인증서 설치 프로그램(*cert-register.zip*)을 다운로드하세요.

1. 다운로드한 파일의 압축을 해제한 뒤 **cert-register.exe** 파일을 실행하세요. **Enrollment Certification** 창이 나타납니다.

1. **Target System**을 **VMS**로 선택하고 다음 정보를 입력하세요.

    <Image src='/img/common/biostarx-settings-server-enrollment-vms-certification.png' />

    - **Server Address**: VMS 서버의 IP 주소

    - **Port**: VMS 서버의 포트 번호

1. **Enrollment** 버튼을 클릭하세요.

1. 보안 경고 메시지를 확인한 뒤 **예**를 클릭하세요.

웹 브라우저를 다시 시작한 뒤 <Cmd sid='shell.header.arena' /> 페이지에서 VMS 서버의 녹화 영상이 정상 재생되는지 확인하세요.


## VMS 이벤트 및 북마크 설정 {#vms-event-bookmark}

연동한 VMS 서버에 북마크 태그, 이벤트 태그 정보를 전달할 수 있습니다. 이때, 이벤트 로그, 출입문 이름, 장치 이름, 사용자 아이디를 함께 전달할 수 있도록 선택할 수 있습니다. 원하는 옵션을 선택하고 화면 오른쪽 하단의 <Cmd sid='button.apply' product='2' /> 버튼을 클릭하세요.

<Image src='/img/biostarx-settings-video-event-bookmark.png' />

* <Cmd sid='common.language' product='2' />: VMS 서버에 전달하는 이벤트 및 북마크 태그의 언어를 선택하세요. 한국어 또는 영어를 선택할 수 있습니다.

* <Cmd sid='video.setting.tag.bookmark' product='2' />: 북마크 태그는 VMS 서버에 보관된 영상에 표시와 이름이 지정되어 쉽게 찾고 검토할 수 있는 기능입니다. 북마크 태그로 전송할 정보를 선택하세요.

* <Cmd sid='video.setting.tag.event' product='2' />: 특정 시점에 발생한 이벤트를 VMS 서버로 전송해 기록할 수 있습니다. 이벤트 태그로 전송할 정보를 선택하세요.


:::info

* VMS에서 북마크 기능에 자세한 내용은 [다음 링크](https://resources.vmsproxy.com/nx_6.0_help/using_bookmarks.html)를 참고하세요.

* VMS에서 이벤트 기능에 대한 자세한 내용은 [다음 링크](https://resources.vmsproxy.com/nx_6.0_help/events_available_in_vms.html)를 참고하세요.

:::


## VMS 서버 연동 해제

연동한 VMS 서버의 연결을 해제하려면 다음 단계를 따르세요. VMS 연동을 해제하면 비디오 설정, 등록한 카메라, 규칙이 모두 삭제됩니다.

1. <Cmd sid='shell.header.launcher' /> 페이지에서 <Cmd sid='shell.header.setting' />을 클릭하세요.

1. 화면 왼쪽 사이드바에서 <Cmd sid='setting.menu.video.root' /> → <Cmd sid='setting.menu.video.vmsIntegration' />을 클릭하세요.

1. <Cmd sid='video.setting.integration.title' product='2' /> 옵션을 <Cmd sid='common.notUse' product='2' />으로 설정하세요.

1. 화면 오른쪽 하단의 <Cmd sid='button.apply' product='2' /> 버튼을 클릭하세요.

1. 메시지 창의 내용을 확인하고 <Cmd sid='button.yes' product='2' /> 버튼을 클릭하세요.